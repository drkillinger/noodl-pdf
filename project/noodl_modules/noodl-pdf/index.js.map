{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@noodl/noodl-sdk/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./src/styles.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/make-cancellable-promise/dist/index.js","webpack:///./node_modules/make-event-props/dist/entry.js","webpack:///./node_modules/merge-class-names/dist/esm/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///pdfjs-dist/build/pdf/webpack/universalModuleDefinition","webpack:///pdfjs-dist/build/pdf/webpack/bootstrap","webpack:///pdfjs-dist/build/pdf/src/pdf.js","webpack:///pdfjs-dist/build/pdf/src/shared/util.js","webpack:///pdfjs-dist/build/pdf/src/shared/compatibility.js","webpack:///pdfjs-dist/build/pdf/src/display/api.js","webpack:///pdfjs-dist/build/pdf/src/display/display_utils.js","webpack:///pdfjs-dist/build/pdf/src/display/font_loader.js","webpack:///pdfjs-dist/build/pdf/src/display/api_compatibility.js","webpack:///pdfjs-dist/build/pdf/src/shared/is_node.js","webpack:///pdfjs-dist/build/pdf/src/display/canvas.js","webpack:///pdfjs-dist/build/pdf/src/display/pattern_helper.js","webpack:///pdfjs-dist/build/pdf/src/display/worker_options.js","webpack:///pdfjs-dist/build/pdf/src/shared/message_handler.js","webpack:///pdfjs-dist/build/pdf/src/display/metadata.js","webpack:///pdfjs-dist/build/pdf/src/display/xml_parser.js","webpack:///pdfjs-dist/build/pdf/src/display/transport_stream.js","webpack:///pdfjs-dist/build/pdf/src/display/webgl.js","webpack:///pdfjs-dist/build/pdf/src/display/text_layer.js","webpack:///pdfjs-dist/build/pdf/src/display/annotation_layer.js","webpack:///pdfjs-dist/build/pdf/src/display/svg.js","webpack:///pdfjs-dist/build/pdf/src/display/node_stream.js","webpack:///pdfjs-dist/build/pdf/src/display/network_utils.js","webpack:///pdfjs-dist/build/pdf/src/display/content_disposition.js","webpack:///pdfjs-dist/build/pdf/src/display/network.js","webpack:///pdfjs-dist/build/pdf/src/display/fetch_stream.js","webpack:///./node_modules/pdfjs-dist/lib/web/pdf_link_service.js","webpack:///./node_modules/pdfjs-dist/lib/web/ui_utils.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/prop-types/checkPropTypes.js","webpack:///./node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/react-highlight-selection/lib/Highlighter.js","webpack:///./node_modules/react-is/cjs/react-is.development.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/react-pdf/dist/esm/Document.js","webpack:///./node_modules/react-pdf/dist/esm/DocumentContext.js","webpack:///./node_modules/react-pdf/dist/esm/LinkService.js","webpack:///./node_modules/react-pdf/dist/esm/Message.js","webpack:///./node_modules/react-pdf/dist/esm/Outline.js","webpack:///./node_modules/react-pdf/dist/esm/OutlineContext.js","webpack:///./node_modules/react-pdf/dist/esm/OutlineItem.js","webpack:///./node_modules/react-pdf/dist/esm/Page.js","webpack:///./node_modules/react-pdf/dist/esm/Page/AnnotationLayer.js","webpack:///./node_modules/react-pdf/dist/esm/Page/PageCanvas.js","webpack:///./node_modules/react-pdf/dist/esm/Page/PageSVG.js","webpack:///./node_modules/react-pdf/dist/esm/Page/TextLayer.js","webpack:///./node_modules/react-pdf/dist/esm/Page/TextLayerItem.js","webpack:///./node_modules/react-pdf/dist/esm/PageContext.js","webpack:///./node_modules/react-pdf/dist/esm/PasswordResponses.js","webpack:///./node_modules/react-pdf/dist/esm/Ref.js","webpack:///./node_modules/react-pdf/dist/esm/entry.js","webpack:///./node_modules/react-pdf/dist/esm/eventBus.js","webpack:///./node_modules/react-pdf/dist/esm/shared/propTypes.js","webpack:///./node_modules/react-pdf/dist/esm/shared/utils.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/index.js","webpack:///./src/noodl-pdf.js","webpack:///./src/styles.css?52f6","webpack:///zlib (ignored)","webpack:///fs (ignored)","webpack:///http (ignored)","webpack:///https (ignored)","webpack:///url (ignored)","webpack:///external \"React\""],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithHoles","isArray","_arrayWithoutHoles","arrayLikeToArray","_assertThisInitialized","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","source","hasOwnProperty","call","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","_iterableToArray","iter","Symbol","iterator","from","_iterableToArrayLimit","_arr","_n","_d","_e","_i","_s","next","push","_nonIterableRest","_nonIterableSpread","_objectWithoutProperties","excluded","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","_objectWithoutPropertiesLoose","sourceKeys","keys","_possibleConstructorReturn","_typeof","assertThisInitialized","_setPrototypeOf","p","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_unsupportedIterableToArray","minLen","n","toString","slice","name","test","module","exports","require","_colors","Noodl","defineNode","def","_def","displayNodeName","displayName","usePortAsLabel","useInputAsLabel","color","category","initialize","inputs","_outputs","outputs","_this","setOutputs","flagOutputDirty","type","group","set","_key","changed","signals","valueChangedToTrue","_fn","signal","scheduleAfterInputsHaveUpdated","getter","methods","prototypeExtensions","onNodeDeleted","_onNodeDeleted","node","setup","defineCollectionNode","Items","Fetch","sendSignalOnOutput","a","fetch","defineModelNode","Id","Fetched","_object","_changeListener","off","get","_o","on","data","properties","defineReactNode","getReactComponent","inputProps","inputCss","outputProps","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","code","charCodeAt","getLens","b64","Error","validLen","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","join","extraBytes","parts","maxChunkLength","len2","base64","ieee754","Buffer","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","typedArraySupport","kMaxLength","foo","subarray","e","createBuffer","that","RangeError","encodingOrOffset","allocUnsafe","poolSize","_augment","ArrayBuffer","fromArrayBuffer","fromString","fromObject","species","assertSize","size","alloc","fill","encoding","checked","allocUnsafeSlow","string","isEncoding","actual","write","fromArrayLike","array","byteOffset","isBuffer","copy","buffer","isnan","b","_isBuffer","compare","x","y","Math","min","String","toLowerCase","concat","list","pos","buf","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","swap16","swap32","swap64","equals","inspect","str","max","match","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","includes","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","floor","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","replace","trim","units","Infinity","leadSurrogate","byteArray","c","hi","lo","src","dst","useSourceMap","map","item","content","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","id","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","sourceRoot","sourceMap","unescape","encodeURIComponent","JSON","stringify","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","abs","log","LN2","makeCancellablePromise","promise","isCancelled","wrappedPromise","cancel","focusEvents","keyboardEvents","touchEvents","mouseEvents","makeEventProps","getArgs","eventProps","forEach","eventName","event","_default","mergeClassNames","_len","reduce","classList","filter","Boolean","propIsEnumerable","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","order2","test3","split","letter","to","symbols","pdfjsVersion","pdfjsBuild","pdfjsSharedUtil","pdfjsDisplayAPI","pdfjsDisplayTextLayer","pdfjsDisplayAnnotationLayer","pdfjsDisplayDisplayUtils","pdfjsDisplaySVG","pdfjsDisplayWorkerOptions","pdfjsDisplayAPICompatibility","PDFNodeStream","params","PDFNetworkStream","PDFFetchStream","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","NativeImageDecoding","NONE","DECODE","DISPLAY","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationStateModelType","MARKED","REVIEW","AnnotationMarkedState","UNMARKED","AnnotationReviewState","ACCEPTED","REJECTED","CANCELLED","COMPLETED","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VerbosityLevel","ERRORS","WARNINGS","INFOS","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","console","unreachable","base","other","url","absoluteUrl","baseUrl","_isValidProtocol","BaseException","NullCharactersRegExp","warn","assert","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","chunk","resultLength","arrayByteLength","stringToBytes","itemLength","buffer8","view32","IsLittleEndianCached","shadow","isLittleEndian","IsEvalSupportedCached","isEvalSupported","rgbBuf","m1","m2","xt","yt","p1","Util","p2","r","p3","p4","v","transpose","first","second","sx","sy","rect","orderedX","rect1","rect2","orderedY","result","PDFStringTranslateTable","decodeURIComponent","escape","arr1","element","capability","isSettled","createObjectURL","digits","forceDataSchema","URL","blob","ii","b1","b2","b3","d1","d2","d3","d4","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","createPDFNetworkStream","task","isArrayBuffer","range","rangeTransport","worker","window","pdfBytes","NativeImageDecoderValues","apiCompatibilityParams","setVerbosityLevel","workerParams","port","GlobalWorkerOptions","PDFWorker","docId","networkStream","initialData","progressiveDone","disableRange","disableStream","httpHeaders","withCredentials","rangeChunkSize","messageHandler","transport","pdfDataRangeTransport","apiVersion","password","disableAutoFetch","maxImageSize","disableFontFace","disableCreateObjectURL","postMessageTransfers","docBaseUrl","nativeImageDecoderSupport","ignoreErrors","PDFDocumentLoadingTask","nextDocumentId","transportDestroyed","addRangeListener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","listener","onDataProgress","onDataProgressiveRead","requestDataRange","getPage","getPageIndex","getDestination","deprecated","openAction","pdfBug","getViewport","rotation","offsetX","offsetY","dontFlip","viewBox","getAnnotations","intent","enableWebGL","renderInteractiveForms","imageLayer","canvasFactory","background","render","renderingIntent","intentState","clearTimeout","canvasFactoryInstance","webGLContext","enable","fnArray","argsArray","lastChunk","pageIndex","complete","internalRenderTask","reason","callback","objs","commonObjs","operatorList","useRequestAnimationFrame","renderTask","transparency","opListTask","streamTextContent","normalizeWhitespace","disableCombineTextItems","TEXT_CONTENT_CHUNK_SIZE","combineTextItems","highWaterMark","textContent","getTextContent","readableStream","reader","pump","items","styles","waitOn","force","renderCompleted","resetStats","cleanup","_tryCleanup","_startRenderPage","_renderPageChunk","operatorListChunk","_pumpOperatorList","_abortOperatorList","defer","postMessage","cloned","transferable","transfers","desc","cloneValue","addEventListener","removeEventListener","pdfWorkerPorts","isWorkerDisabled","nextFakeWorkerId","isNodeJS","fallbackWorkerSrc","pdfjsFilePath","document","mainWorkerMessageHandler","globalThis","fakeWorkerCapability","loader","getMainThreadWorkerMessageHandler","eval","getWorkerSrc","loadScript","wrapper","_initializeFromPort","workerSrc","isSameOrigin","createCDNWrapper","terminateEarly","onWorkerError","sendTest","testObj","setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","loadingTask","onUnsupportedFeature","isCompressed","page","terminated","evt","loaded","total","sink","headersCapability","fullReader","isStreamingSupported","isRangeSupported","contentLength","rangeReader","pdfInfo","ex","exception","updatePassword","exportedError","exportedData","fontRegistry","registerFont","pageProxy","img","releaseImageResources","MAX_IMAGE_SIZE_TO_STORE","imageData","components","width","rgbaLength","tmpCanvas","tmpCtx","fetched","builtInCMap","_onUnsupportedFeature","pageNumber","pageInfo","results","metadata","contentDispositionFilename","cleanupSuccessful","_ensureObj","resolved","has","InternalRenderTask","canvasInRendering","initializeGraphics","version","build","DEFAULT_LINK_REL","SVG_NS","height","canvas","context","reset","canvasAndContext","destroy","compressionType","isFetchSupported","isValidFetchUrl","response","cMapData","request","XMLHttpRequest","svg","createElement","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","clone","scale","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","LinkTarget","SELF","BLANK","PARENT","TOP","enabled","urlNullRemoved","removeNullCharacters","link","targetStr","anchor","query","time","Date","timeEnd","outBuf","longest","duration","Response","protocol","script","isString","pdfDateStringRegex","matches","year","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","addNativeFontFace","insertRule","styleElement","styleSheet","nativeFontFace","featureId","rule","_queueLoadingCallback","_prepareFontLoadEvent","supported","FontLoader","requests","nextRequestId","otherRequest","setTimeout","chunk1","chunk2","ctx","called","isFontReady","loadTestFontId","COMMENT_OFFSET","spliceString","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","int32","string32","names","fonts","div","span","navigator","getLoadTestFont","atob","translatedData","bytesToString","getPathGenerator","cmds","js","current","compatibilityParams","userAgent","isIE","isIOSChrome","process","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","f","ad_bc","bc_ad","old","prev","cosValue","sinValue","CachedCanvases","getCanvas","canvasEntry","addContextCurrentTransform","clear","POINT_TO_PROCESS_LIMIT","imgData","width1","points","POINT_TYPES","lineSize","data0","mask","elem","count","j0","sum","steps","outlines","coords","p0","step","pp","drawOutline","jj","CanvasExtraState","setCurrentPoint","CanvasGraphics","EXECUTION_TIME","EXECUTION_STEPS","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","dest","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","thisChunkHeight","destPos","srcDiff","k","kEnd","kEndUnrolled","srcByte","elemsInThisChunk","property","sourceCtx","destCtx","alpha","alpha_","r0","g0","b0","maskData","transferMap","layerData","hasBackdrop","backdrop","subtype","composeFn","PIXELS_TO_PROCESS","chunkSize","row","chunkHeight","maskCtx","layerCtx","composeSMaskBackdrop","composed","layer","genericComposeSMask","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","beginDrawing","transparentCanvas","resetCtxToDefault","viewport","executeOperatorList","executionStartIdx","argsArrayLen","chunkOperations","endTime","stepper","fnId","objsPool","depObjId","continueCallback","endDrawing","states","state","beginSMaskGroup","activeSMask","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","copyCtxState","suspendSMaskGroup","composeSMask","deltaTransform","resumeSMaskGroup","endSMaskGroup","ops","xw","yh","consumePath","strokeColor","fillColor","isPatternFill","needRestore","paths","path","fontObj","bold","italic","typeface","browserFontSize","paintChar","textRenderingMode","fontSize","fillStrokeMode","isAddToPathSet","patternFill","addToPath","fontSizeScale","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","glyphs","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","patternTransform","lineWidth","glyph","isNum","restoreNeeded","spacing","character","accent","vmetric","vx","vy","scaledX","scaledY","measuredWidth","characterScaleX","scaledAccentX","scaledAccentY","charWidth","showType3Text","fontMatrix","isTextInvisible","spacingLength","transformed","urx","ury","getColorN_Pattern","IR","baseTransform","canvasGraphicsFactory","createCanvasGraphics","getShadingPatternFromIR","inv","bl","br","ul","ur","x0","y0","x1","y1","matrix","bbox","bounds","canvasBounds","scaleX","scaleY","startTransformInverse","domImage","position","left","top","w","h","maskCanvas","putBinaryImageMask","positions","images","image","widthScale","heightScale","imgToPaint","putBinaryImageData","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","entry","getSinglePixelWidth","inverse","getCanvasPosition","ShadingIRs","region","fromIR","raw","colorStops","r1","getPattern","applyBoundingBox","grad","createMeshCanvas","colors","rowSize","c1","c2","c3","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","ps","figure","cs","verticesPerRow","rows","cols","q","drawTriangle","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","combinesScale","paddedWidth","paddedHeight","cachedCanvases","backgroundColor","figures","drawFigure","owner","matrixScale","temporaryPatternCanvas","shadingIR","TilingPattern","PaintType","COLORED","UNCOLORED","createPatternCanvas","xstep","ystep","paintType","tilingType","curMatrixScale","combinedScale","dimx","dimy","graphics","getSizeAndScale","maxSize","clipBbox","bboxWidth","bboxHeight","setFillAndStrokeStyleToContext","cssColor","CallbackKind","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","callbackId","wrapReason","action","sourceName","targetName","comObj","ah","send","sendWithPromise","sendWithStream","streamId","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","stream","cancelCapability","_createStreamSink","streamSink","enqueue","lastDesiredSize","close","sinkCapability","onPull","onCancel","ready","success","_processStreamMessage","_postMessage","parser","xmlDocument","_repair","chars","_parse","rdf","nodeName","children","XMLParserErrorCode","NoError","EndOfDocument","UnterminatedCdat","UnterminatedXmlDeclaration","UnterminatedDoctypeDeclaration","UnterminatedComment","MalformedElement","OutOfMemory","UnterminatedAttributeValue","UnterminatedElement","ElementNeverBegun","ch","isWhitespace","_resolveEntities","entity","_parseContent","attributes","skipWs","attrName","attrValue","attrEndChar","attrEndIndex","_parseProcessingInstruction","attrStart","parseXml","ch2","pi","q2","complexDoctype","doctypeContent","text","onResolveEntity","onPi","onComment","onCdata","onDoctype","onText","onBeginElement","onEndElement","onError","childNodes","index","child","parseFromString","isWhitespaceString","lastElement","_onReceiveData","_onProgress","firstReader","_removeRangeReader","queuedChunks","getRangeReader","cancelAllRequests","readers","_enqueue","requestCapability","requestsCapability","WebGLUtils","drawFigures","shader","gl","compiled","errorMsg","loadShader","program","shaders","linked","texture","currentCanvas","currentGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","generateGL","vertexShader","createVertexShader","fragmentShader","createFragmentShader","cache","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","initSmaskGL","createTexture","maskTexture","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","coordsMap","colorsMap","pIndex","cIndex","col","coordsBuffer","colorsBuffer","tryInitGL","renderTextLayer","MAX_TEXT_DIVS_TO_RENDER","NonWhitespaceRegexp","textDiv","textDivProperties","angle","canvasWidth","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","isAllWhitespace","geom","tx","style","fontHeight","fontAscent","angleCos","angleSin","divWidth","divHeight","right","bottom","textDivs","textDivsLength","expanded","expandBounds","divProperties","ts","t","findPositiveMin","boxScale","box","x1New","x2New","expandBoundsLTR","boxes","fakeBoundary","horizon","boundary","maxXNew","horizonPart","affectedBoundary","xNew","changedHorizon","lastBoundary","useBoundary","used","textContentItemsStr","TextLayerRenderTask","_processItems","appendText","_layoutText","fontFamily","_render","styleCache","textItems","textStyles","expandTextDivs","expand","transformBuf","paddingBuf","divProps","renderParameters","textContentStream","container","enhanceTextSelection","parameters","fieldType","isRenderable","ignoreBorder","_createContainer","horizontalRadius","verticalRadius","radius","_createPopup","trigger","popupElement","title","modificationDate","contents","hideWrapper","popup","addLinkAttributes","linkService","rel","_bindLink","_bindNamedAction","TEXT_ALIGNMENT","fieldWidth","combWidth","_setTextStyle","fallbackName","selectElement","optionElement","option","IGNORE_TYPES","selector","parentElement","parentLeft","parseFloat","parentWidth","BACKGROUND_ENLIGHT","g","dateObject","PDFDateString","date","_formatContents","lines","line","pin","_show","unpin","_hide","borderWidth","square","circle","coordinate","polyline","getFilenameFromUrl","stringToPDFString","sortedAnnotations","popupAnnotations","downloadManager","imageResourcesPath","svgFactory","SVGGraphics","opTree","opListElement","pf","SVG_DEFAULTS","fontStyle","fontWeight","XML_NS","XLINK_NS","convertImgDataToPng","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","crc","body","crc32","deflateSyncUncompressed","input","__non_webpack_require__","level","literals","maxBlockLength","deflateBlocks","idat","adler","adler32","colorType","bitDepth","offsetLiterals","offsetBytes","kind","ihdr","deflateSync","pngLength","writePngChunk","encode","clipCount","maskCount","shadingCount","loadDependencies","transformMatrix","getSVG","svgElement","convertOpList","operatorIdMapping","opList","opListToTree","executeOpTree","opTreeElement","lineWidthScale","textMatrix","pm","addFontStyle","details","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeTilingPattern","tilingId","txstep","tystep","tiling","tx1","ty1","_makeShadingPattern","shadingId","point0","point1","gradient","focalPoint","circlePoint","focalRadius","circleRadius","stop","colorStop","op","clipId","clipPath","clipElement","_setStrokeAttributes","dashArray","imgObj","imgEl","imgSrc","cliprect","_initialize","definitions","rootGroup","clipGroup","fs","http","https","fileUriRegex","parsedUrl","parseUrl","_error","_setReadableStream","auth","host","method","handleResponse","getResponseHeader","isHttp","suggestedLength","extractFilenameFromHeader","createRequestOptions","stat","returnValues","allowRangeRequests","contentEncoding","contentDisposition","filename","getFilenameFromContentDispositionHeader","status","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","decoder","fatal","textdecode","part","quotindex","encodingend","extvalue","langvalue","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","xhr","requestRange","listeners","requestFull","xhrId","pendingRequest","onProgress","onStateChange","xhrStatus","ok_response_on_range_request","getArrayBuffer","rangeHeader","begin","getRequestXhr","isPendingRequest","abortRequest","_onRangeRequestReaderClosed","onHeadersReceived","onDone","manager","fullRequestXhrId","fullRequestXhr","_onDone","_onError","createResponseStatusError","abortController","mode","credentials","redirect","headers","createHeaders","createFetchOptions","validateResponseStatus","SimpleLinkService","PDFLinkService","_ui_utils","eventBus","externalLinkTarget","externalLinkRel","externalLinkEnabled","ignoreDestinationZoom","getGlobalEventBus","_ignoreDestinationZoom","pdfDocument","pdfViewer","pdfHistory","_pagesRefCache","goToDestination","namedDest","explicitDest","destRef","_cachedPageNumber","cachePageRef","isInteger","pagesCount","pushCurrentPosition","scrollPageIntoView","destArray","getAnchorUrl","hash","parseQueryString","dispatch","phraseSearch","navigateTo","nameddest","zoomArgs","zoom","zoomArg","zoomArgNumber","allowNegativeOffset","pagemode","parse","isValidExplicitDestination","back","forward","pageNum","pageRef","refStr","isPageVisible","numPages","currentPageNumber","pagesRotation","destLength","allowNull","param","isValidRotation","isValidScrollMode","isValidSpreadMode","isPortraitOrientation","clamp","getPDFFileNameFromURL","noContextMenuHandler","backtrackBeforeAllVisibleElements","getVisibleElements","roundToDivide","getPageSizeInches","approximateFraction","getOutputScale","scrollIntoView","watchScroll","binarySearchFirstItem","normalizeWheelEventDelta","waitOnEventOrTimeout","moveToEndOfArray","WaitOnType","animationStarted","ProgressBar","EventBus","NullL10n","SpreadMode","ScrollMode","TextLayerMode","RendererType","PresentationModeState","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","MAX_SCALE","MIN_SCALE","DEFAULT_SCALE","DEFAULT_SCALE_VALUE","CSS_UNITS","AutoPrintRegExp","NORMAL","CHANGING","FULLSCREEN","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","ODD","EVEN","formatL10nValue","all","getLanguage","getDirection","fallback","translate","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","scaled","spot","skipOverflowHiddenElements","parent","offsetParent","offsetTop","clientTop","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","dataset","_scaleY","_scaleX","scrollLeft","scrollTop","viewAreaElement","debounceScroll","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","currentY","lastY","down","_eventHandler","condition","minIndex","maxIndex","currentIndex","currentItem","xinv","x_","round","view","userUnit","rotate","changeOrientation","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","isElementBottomAfterViewTop","elementBottom","isElementRightAfterViewLeft","elementRight","visible","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","hiddenWidth","percent","last","sort","pc","preventDefault","isDataSchema","substring","defaultFilename","reURI","reFilename","splitURI","exec","suggestedFilename","delta","sqrt","deltaX","deltaY","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","values","EVENT","TIMEOUT","delay","handler","_off","eventHandler","timeout","bind","_on","timeoutHandler","dispatchDOMEvent","createEvent","initCustomEvent","dispatchEvent","dispatchToDOM","_listeners","_dispatchToDOM","external","eventListeners","externalListeners","options","splice","globalEventBus","querySelector","bar","parentNode","_indeterminate","add","remove","progressSize","_percent","viewer","scrollbarWidth","offsetWidth","_updateBar","moved","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","browser","env","argv","versions","noop","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","printWarning","ReactPropTypesSecret","loggedTypeFailures","Function","message","checkPropTypes","typeSpecs","location","componentName","getStack","typeSpecName","stack","resetWarningCache","ReactIs","emptyFunctionThatReturnsNull","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","bool","func","number","object","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","isValidElementType","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","replacer","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","entries","isSymbol","RegExp","PropTypes","isElement","l","toStringTag","__esModule","u","customClass","selectionHandler","isDirty","selection","anchorNode","focusNode","selectionStart","selectionEnd","middle","onMouseUpHandler","getSelection","anchorOffset","focusOffset","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","getAttribute","setState","onMouseUp","className","propTypes","framesToPop","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","O","_","refs","updater","S","isReactComponent","forceUpdate","isPureReactComponent","P","currentDispatcher","E","ref","__self","__source","defaultProps","$$typeof","_owner","N","C","$","T","pop","keyPrefix","R","A","M","U","I","D","H","Children","toArray","only","createRef","Component","PureComponent","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","forwardRef","lazy","_ctor","_status","_result","memo","Fragment","StrictMode","Suspense","cloneElement","createFactory","unstable_ConcurrentMode","unstable_Profiler","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","F","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","typeOf","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","Super","_isNativeReflectConstruct","NewTarget","Reflect","construct","sham","Proxy","PDFDataRangeTransport","pdfjs","Document","_PureComponent","_super","pdf","_ref","onItemClick","pages","warnOnDev","LinkService","_regeneratorRuntime","mark","_callee","_this$props","onLoadProgress","onPassword","cancellable","wrap","_callee$","findDocumentSource","sent","onSourceSuccess","t0","onSourceError","abrupt","prevState","cancelRunningTask","runningTask","getDocument","makeCancellable","fingerprint","onLoadSuccess","t1","onLoadError","setViewer","documentInstance","errorOnDev","setDocument","_callee2","file","fileUint8Array","otherParams","_fileUint8Array","_callee2$","_context2","isDataURI","dataURItoUint8Array","displayCORSWarning","isBrowser","isBlob","isFile","loadFromFile","componentDidMount","loadDocument","setupLinkService","componentDidUpdate","prevProps","componentWillUnmount","renderChildren","React","DocumentContext","childContext","renderContent","noData","Message","loading","_this$props2","inputRef","registerPage","unregisterPage","_this$props3","renderMode","_this2","prompt","_password","isFunctionOrNode","isClassName","OutlineInternal","outline","getOutline","_ref2","loadOutline","renderOutline","itemIndex","OutlineItem","destination","OutlineContext","onClick","isPdf","Outline","OutlineItemInternal","isDefined","_destination","Ref","_callee3","_callee3$","_context3","_ref4","_callee4","_callee4$","_context4","getPageNumber","_x","renderSubitems","otherProps","subitems","subitem","subitemIndex","href","isDestination","documentContext","outlineContext","defaultScale","PageInternal","makePageCallback","loadPage","isProvided","renderMainLayer","PageSVG","pageKeyNoScale","PageCanvas","pageKey","TextLayer","renderAnnotationLayer","AnnotationLayer","PageContext","customTextRenderer","onGetAnnotationsError","onGetAnnotationsSuccess","onGetTextError","onGetTextSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","pageScale","scaleWithDefault","_this3","isPageIndex","isPageNumber","isRenderMode","isRotate","Page","AnnotationLayerInternal","annotations","loadAnnotations","annotationLayer","innerHTML","isLinkService","isPage","pageContext","PageCanvasInternal","renderer","isCancelException","_assertThisInitialize","canvasLayer","_assertThisInitialize2","renderViewport","renderContext","canvasContext","getContext","cancelRenderingTask","drawPageOnCanvas","_internalRenderTask","running","display","userSelect","_this$props4","getPixelRatio","_this$props5","PageSVGInternal","getOperatorList","svgGfx","firstElementChild","appendChild","_this$viewport","setAttribute","renderSVG","_this$viewport2","drawPageOnContainer","TextLayerInternal","_yield$cancellable$pr","loadTextItems","renderTextItems","textItem","TextLayerItem","unrotatedViewport","WebkitTransform","pointerEvents","TextLayerItemInternal","sideways","getBoundingClientRect","alignTextItem","_getFontData","fontName","getFontData","_alignTextItem","fontData","fallbackFontName","targetWidth","actualWidth","ascent","getElementWidth","transformOrigin","whiteSpace","defaultSideways","_transform","fontHeightPx","fontWidthPx","_transform2","_viewport$viewBox","yMin","yMax","_transform3","_viewport$viewBox2","xMin","isLocalFileSystem","fileTypes","File","Blob","isLinkTarget","_transport","fontLoader","_objs","isProduction","variable","dataURI","byteString","ia","consoleOnDev","_console","_len2","_key2","_len3","_key3","FileReader","onload","onerror","NOT_FOUND_ERR","NOT_READABLE_ERR","SECURITY_ERR","ABORT_ERR","readAsArrayBuffer","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","isGeneratorFunction","genFun","ctor","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","unwrapped","previousPromise","callInvokeWithMethodAndArg","async","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reverse","iterable","iteratorMethod","skipTempReset","charAt","rootEntry","rootRecord","rval","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","css","currentDir","pathname","fixedCss","fullMatch","origUrl","unquotedOrigUrl","$1","newUrl","webpackPolyfill","deprecate","defineModule","reactNodes","nodes","Wrapper","useState","setNumPages","onDocumentLoadSuccess","copyTextToClipboard","clipboard","fallbackCopyTextToClipboard","writeText","makeTextRenderer","textRenderer","el"],"mappings":"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ACA,aAAKhvD,GAAL,GAAWa,SAAX;AACD;;AAED,aAAOmjF,gBAAP;AACD;AArMiB,GAApB,CAjgBgC,CAysBhC;AACA;AACA;AACA;;AACA,SAAOh+E,OAAP;AAED,CA/sBc,EAgtBb;AACA;AACA;AACA;AACA,8BAAOD,MAAP,OAAkB,QAAlB,GAA6BA,MAAM,CAACC,OAApC,GAA8C,EAptBjC,CAAf;;AAutBA,IAAI;AACFuhF,oBAAkB,GAAG9E,OAArB;AACD,CAFD,CAEE,OAAO+E,oBAAP,EAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA/iB,UAAQ,CAAC,GAAD,EAAM,wBAAN,CAAR,CAAwCge,OAAxC;AACD,C;;;;;;;;;;;;AC3uBD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;AC9YA;;;;;;;;;;;;AAaA18E,MAAM,CAACC,OAAP,GAAiB,UAAUyhF,GAAV,EAAe;AAC9B;AACA,MAAI5iB,QAAQ,GAAG,OAAOp0C,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACo0C,QAAvD;;AAEA,MAAI,CAACA,QAAL,EAAe;AACb,UAAM,IAAIv6D,KAAJ,CAAU,kCAAV,CAAN;AACD,GAN6B,CAQ/B;;;AACA,MAAI,CAACm9E,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;AACnC,WAAOA,GAAP;AACA;;AAED,MAAIx7D,OAAO,GAAG44C,QAAQ,CAAC/kC,QAAT,GAAoB,IAApB,GAA2B+kC,QAAQ,CAAC9V,IAAlD;AACA,MAAI24B,UAAU,GAAGz7D,OAAO,GAAG44C,QAAQ,CAAC8iB,QAAT,CAAkBxwE,OAAlB,CAA0B,WAA1B,EAAuC,GAAvC,CAA3B,CAd8B,CAgB/B;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,MAAIywE,QAAQ,GAAGH,GAAG,CAACtwE,OAAJ,CAAY,qDAAZ,EAAmE,UAAS0wE,SAAT,EAAoBC,OAApB,EAA6B;AAC9G;AACA,QAAIC,eAAe,GAAGD,OAAO,CAC3B1wE,IADoB,GAEpBD,OAFoB,CAEZ,UAFY,EAEA,UAAS5U,CAAT,EAAYylF,EAAZ,EAAe;AAAE,aAAOA,EAAP;AAAY,KAF7B,EAGpB7wE,OAHoB,CAGZ,UAHY,EAGA,UAAS5U,CAAT,EAAYylF,EAAZ,EAAe;AAAE,aAAOA,EAAP;AAAY,KAH7B,CAAtB,CAF8G,CAO9G;;AACA,QAAI,oDAAoDliF,IAApD,CAAyDiiF,eAAzD,CAAJ,EAA+E;AAC7E,aAAOF,SAAP;AACD,KAV6G,CAY9G;;;AACA,QAAII,MAAJ;;AAEA,QAAIF,eAAe,CAAC1jF,OAAhB,CAAwB,IAAxB,MAAkC,CAAtC,EAAyC;AACtC;AACF4jF,YAAM,GAAGF,eAAT;AACA,KAHD,MAGO,IAAIA,eAAe,CAAC1jF,OAAhB,CAAwB,GAAxB,MAAiC,CAArC,EAAwC;AAC9C;AACA4jF,YAAM,GAAGh8D,OAAO,GAAG87D,eAAnB,CAF8C,CAEV;AACpC,KAHM,MAGA;AACN;AACAE,YAAM,GAAGP,UAAU,GAAGK,eAAe,CAAC5wE,OAAhB,CAAwB,OAAxB,EAAiC,EAAjC,CAAtB,CAFM,CAEsD;AAC5D,KAxB6G,CA0B9G;;;AACA,WAAO,SAAS8B,IAAI,CAACC,SAAL,CAAe+uE,MAAf,CAAT,GAAkC,GAAzC;AACA,GA5Bc,CAAf,CA1C+B,CAwE/B;;AACA,SAAOL,QAAP;AACA,CA1ED,C;;;;;;;;;;;;;ACdA,IAAItgC,CAAJ,C,CAEA;;AACAA,CAAC,GAAI,YAAW;AACf,SAAO,IAAP;AACA,CAFG,EAAJ;;AAIA,IAAI;AACH;AACAA,GAAC,GAAGA,CAAC,IAAI,IAAImd,QAAJ,CAAa,aAAb,GAAT;AACA,CAHD,CAGE,OAAOr4D,CAAP,EAAU;AACX;AACA,MAAI,QAAOqkB,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC62B,CAAC,GAAG72B,MAAJ;AAChC,C,CAED;AACA;AACA;;;AAEA1qB,MAAM,CAACC,OAAP,GAAiBshD,CAAjB,C;;;;;;;;;;;ACnBAvhD,MAAM,CAACC,OAAP,GAAiB,UAASD,MAAT,EAAiB;AACjC,MAAI,CAACA,MAAM,CAACmiF,eAAZ,EAA6B;AAC5BniF,UAAM,CAACoiF,SAAP,GAAmB,YAAW,CAAE,CAAhC;;AACApiF,UAAM,CAAC+lC,KAAP,GAAe,EAAf,CAF4B,CAG5B;;AACA,QAAI,CAAC/lC,MAAM,CAAC00C,QAAZ,EAAsB10C,MAAM,CAAC00C,QAAP,GAAkB,EAAlB;AACtBh5C,UAAM,CAACC,cAAP,CAAsBqE,MAAtB,EAA8B,QAA9B,EAAwC;AACvCzE,gBAAU,EAAE,IAD2B;AAEvC2H,SAAG,EAAE,eAAW;AACf,eAAOlD,MAAM,CAACikE,CAAd;AACA;AAJsC,KAAxC;AAMAvoE,UAAM,CAACC,cAAP,CAAsBqE,MAAtB,EAA8B,IAA9B,EAAoC;AACnCzE,gBAAU,EAAE,IADuB;AAEnC2H,SAAG,EAAE,eAAW;AACf,eAAOlD,MAAM,CAAChH,CAAd;AACA;AAJkC,KAApC;AAMAgH,UAAM,CAACmiF,eAAP,GAAyB,CAAzB;AACA;;AACD,SAAOniF,MAAP;AACA,CArBD,C;;;;;;;;;;;;ACAA;AAAA;AAAA,IAAMI,KAAK,GAAGF,mBAAO,CAAC,kEAAD,CAArB;;AACA;AAGAE,KAAK,CAACiiF,YAAN,CAAmB;AACfC,YAAU,EAAE,CACX9U,kDADW,CADG;AAIf+U,OAAK,EAAC,EAJS;AAMflgF,OANe,mBAMP;AACVujB,WAAO,CAAC5R,GAAR,CAAY,kBAAZ;AACA;AARiB,CAAnB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;;AACA,IAAM5T,KAAK,GAAGF,mBAAO,CAAC,kEAAD,CAArB;;AACA;AACA;AACA;AAEA;AACAqtE,+CAAK,CAACtiD,mBAAN,CAA0B+H,SAA1B,qDAAiFu6C,+CAAK,CAAC72C,OAAvF;AACA;;AAGA,SAAS8rD,OAAT,CAAkBnnF,KAAlB,EAAwB;AAAA,kBACSonF,sDAAQ,CAAC,IAAD,CADjB;AAAA;AAAA,MAChBzyB,QADgB;AAAA,MACN0yB,WADM;;AAGvB,WAASC,qBAAT,OAA6C;AAAA,QAAZ3yB,QAAY,QAAZA,QAAY;AAC3C0yB,eAAW,CAAC1yB,QAAD,CAAX;AACD;;AAED,WAAS4yB,mBAAT,CAA6BlsC,IAA7B,EAAmC;AAClC,QAAI,CAAC9Z,SAAS,CAACimD,SAAf,EAA0B;AACxBC,iCAA2B,CAACpsC,IAAD,CAA3B;AACA;AACD;;AACD9Z,aAAS,CAACimD,SAAV,CAAoBE,SAApB,CAA8BrsC,IAA9B,EAAoCn8C,IAApC,CAAyC,YAAW;AAClDqrB,aAAO,CAAC5R,GAAR,CAAY,6CAAZ;AACD,KAFD,EAEG,UAASnZ,GAAT,EAAc;AACf+qB,aAAO,CAACxrB,KAAR,CAAc,8BAAd,EAA8CS,GAA9C;AACD,KAJD;AAKE;;AAEH,WAASypE,gBAAT,CAA0BE,SAA1B,EAAqC;AACpCoe,uBAAmB,CAACpe,SAAS,CAACA,SAAX,CAAnB;AACE;;AAGH,WAASwe,gBAAT,GAA4B;AAC3B,WAAO,SAASC,YAAT,CAAsBlK,QAAtB,EAAgC;AACtC;AACA,UAAMriC,IAAI,GAAGqiC,QAAQ,CAAC5uE,GAAtB;AACA,0BACC,2DAAC,gEAAD;AACE,YAAI,EAAEusC,IADR;AAEE,wBAAgB,EAAE4tB,gBAFpB;AAGE,mBAAW,EAAC;AAHd,QADD;AAOA,KAVD;AAWE;;AAEH,sBAAO,qFAEP,2DAAC,kDAAD;AACK,QAAI,EAAEjpE,KAAK,CAACy0E,IADjB;AACuB,SAAK,EAAEz0E,KAAK,CAACk6B,KADpC;AAC2C,UAAM,EAAEl6B,KAAK,CAACy7B,MADzD;AAEE,iBAAa,EAAE6rD;AAFjB,KAKMzpF,KAAK,CAACmE,IAAN,CACC,IAAInE,KAAJ,CAAU82D,QAAV,CADD,EAEC,UAACkzB,EAAD,EAAK7rC,KAAL;AAAA,wBACE,2DAAC,8CAAD;AACL,WAAK,EAAEh8C,KAAK,CAACi9B,KADR;AAEL,WAAK,EAAEj9B,KAAK,CAACk6B,KAFR;AAGE,SAAG,iBAAU8hB,KAAK,GAAG,CAAlB,CAHL;AAIP,gBAAU,EAAEA,KAAK,GAAG,CAJb;AAKP,wBAAkB,EAAE2rC,gBAAgB,EAL7B;AAMP,qBAAe,EAAE;AANV,MADF;AAAA,GAFD,CALN,CAFO,CAAP;AAyBA;;AAEc;AACdljF,MAAI,EAAE,YADQ;AAEde,UAAQ,EAAE,QAFI;AAGd2C,mBAHc,+BAGM;AACnB,WAAOg/E,OAAP;AACA,GALa;AAMd/+E,YAAU,EAAE;AACLqsE,QAAI,EAAE;AAACzuE,UAAI,EAAC;AAAN,KADD;AAEXy0B,cAAU,EAAE;AAACz0B,UAAI,EAAC;AAAN,KAFD;AAGXk0B,SAAK,EAAE;AAACl0B,UAAI,EAAE;AAAP,KAHI;AAIXi3B,SAAK,EAAE;AAACj3B,UAAI,EAAE;AAAP;AAJI,GANE;AAadsC,aAAW,EAAE;AAbC,CAAf,E;;;;;;;;;;;;AC3EA,cAAc,mBAAO,CAAC,oHAAuD;;AAE7E,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,mGAAgD;;AAErE;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;ACnBf,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,uB","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","module.exports = require(\"regenerator-runtime\");\n","const _colors = {\n    \"purple\":\"component\",\n    \"green\":\"data\",\n    \"default\":\"default\",\n    \"grey\":\"default\"\n}\n\nNoodl.defineNode = function(def) {\n    const _def = {};\n\n    _def.name = def.name;\n    _def.displayNodeName = def.displayName;\n    _def.usePortAsLabel = def.useInputAsLabel;\n    _def.color = _colors[def.color || 'default'];\n    _def.category = def.category || 'Modules';\n    _def.initialize = function() {\n        this.inputs = {};\n        var _outputs = this.outputs = {};\n        var _this = this;\n        this.setOutputs = function(o) {\n            for(var key in o) {\n                _outputs[key] = o[key];\n                _this.flagOutputDirty(key);\n            }\n        }\n        if(typeof def.initialize === 'function')\n            def.initialize.apply(this);\n    }\n    _def.inputs = {};\n    _def.outputs = {};\n\n    for(var key in def.inputs) {\n        _def.inputs[key] = {\n            type:(typeof def.inputs[key] === 'object')?def.inputs[key].type:def.inputs[key],\n            displayName:(typeof def.inputs[key] === 'object')?def.inputs[key].displayName:undefined,\n            group:(typeof def.inputs[key] === 'object')?def.inputs[key].group:undefined,\n            default:(typeof def.inputs[key] === 'object')?def.inputs[key].default:undefined,\n            set:(function() { const _key = key; return function(value) {\n                this.inputs[_key] = value;\n                if(def.changed && typeof def.changed[_key] === 'function') {\n                    def.changed[_key].apply(this,[value]);\n                }\n            }})()\n        }\n    }\n\n    for(var key in def.signals) {\n        _def.inputs[key] = {\n            type:'signal',\n            displayName:(typeof def.signals[key] === 'object')?def.signals[key].displayName:undefined,\n            valueChangedToTrue:(function() { const _key = key; return function() {\n                const _fn = (typeof def.signals[_key] === 'object')?def.signals[_key].signal:def.signals[_key]\n                if(typeof _fn === 'function') {\n                    this.scheduleAfterInputsHaveUpdated(() => {\n                        _fn.apply(this);\n                    }) \n                }\n            }})()\n        }\n    }\n\n    for(var key in def.outputs) {\n        if(def.outputs[key] === 'signal') {\n            _def.outputs[key] = {\n                type:'signal',\n            }\n        }\n        else {\n            _def.outputs[key] = {\n                type:(typeof def.outputs[key] === 'object')?def.outputs[key].type:def.outputs[key],\n                displayName:(typeof def.outputs[key] === 'object')?def.outputs[key].displayName:undefined,\n                group:(typeof def.outputs[key] === 'object')?def.outputs[key].group:undefined,\n                getter:(function() { const _key = key; return function() {\n                    return this.outputs[_key];\n                }})()\n            }\n        }\n    }\n\n    _def.methods = _def.prototypeExtensions = {};\n    for(var key in def.methods) {\n        _def.prototypeExtensions[key] = def.methods[key];\n    }\n    if(_def.methods.onNodeDeleted) { // Override the onNodeDeleted if required\n        _def.methods._onNodeDeleted = function() {\n            this.__proto__.__proto__._onNodeDeleted.call(this);\n            _def.methods.onNodeDeleted.value.call(this);\n        }\n    }\n\n    return {node:_def,setup:def.setup};\n}\n\nNoodl.defineCollectionNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:def.inputs,\n        outputs:Object.assign({\n            Items:'array',\n            'Fetch Started':'signal',\n            'Fetch Completed':'signal'\n        },def.outputs||{}),\n        signals:Object.assign({\n            Fetch:function() {\n                var _this = this;\n                this.sendSignalOnOutput('Fetch Started');\n                var a = def.fetch.call(this,function() {\n                    _this.sendSignalOnOutput('Fetch Completed');\n                });\n                this.setOutputs({\n                    Items:a\n                })\n            }\n        },def.signals||{})\n    }\n\n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineModelNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:{\n            Id:'string'\n        },\n        outputs:{\n            Fetched:'signal'\n        },\n        changed:{\n            Id:function(value) {\n                if(this._object && this._changeListener)\n                    this._object.off('change',this._changeListener)\n                \n                this._object = Noodl.Object.get(value);\n                this._changeListener = (name,value) => {\n                    const _o = {}\n                    _o[name] = value;\n                    this.setOutputs(_o)\n                }\n                this._object.on('change',this._changeListener)\n\n                this.setOutputs(this._object.data);\n                this.sendSignalOnOutput('Fetched');\n            }\n        },\n        initialize:function() {\n\n        }\n    }\n\n    for(var key in def.properties) {\n        _def.inputs[key] = def.properties[key];\n        _def.outputs[key] = def.properties[key];\n        _def.changed[key] = (function() { const _key = key; return function(value) {\n            if(!this._object) return;\n            this._object.set(_key,value);\n        }})()\n    }\n \n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineReactNode = function(def) {\n    var _def = Noodl.defineNode(def);\n\n    _def.node.getReactComponent = def.getReactComponent;\n    _def.node.inputProps = def.inputProps;\n    _def.node.inputCss = def.inputCss;\n    _def.node.outputProps = def.outputProps;\n    _def.node.setup = def.setup;\n\n    return _def.node;\n}\n\nmodule.exports = Noodl;","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".custom-class {\\n    background-color: #e06f6f;\\n}\\n\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = makeCancellablePromise;\n\nfunction makeCancellablePromise(promise) {\n  var isCancelled = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function () {\n      return !isCancelled && resolve.apply(void 0, arguments);\n    })[\"catch\"](function (error) {\n      return !isCancelled && reject(error);\n    });\n  });\n  return {\n    promise: wrappedPromise,\n    cancel: function cancel() {\n      isCancelled = true;\n    }\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.focusEvents = exports.keyboardEvents = exports.touchEvents = exports.mouseEvents = void 0;\n// As defined on the list of supported mouse events: https://reactjs.org/docs/events.html#mouse-events\nvar mouseEvents = ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOut', 'onMouseOver', 'onMouseUp']; // As defined on the list of supported touch events: https://reactjs.org/docs/events.html#touch-events\n\nexports.mouseEvents = mouseEvents;\nvar touchEvents = ['onTouchCancel', 'onTouchEnd', 'onTouchMove', 'onTouchStart']; // As defined on the list of supported keyboard events: https://reactjs.org/docs/events.html#keyboard-events\n\nexports.touchEvents = touchEvents;\nvar keyboardEvents = ['onKeyDown', 'onKeyPress', 'onKeyUp']; // As defined on the list of supported keyboard events: https://reactjs.org/docs/events.html#focus-events\n\nexports.keyboardEvents = keyboardEvents;\nvar focusEvents = ['onFocus', 'onBlur'];\n/**\n * Returns an object with on-event callback props curried with provided args.\n * @param {Object} props Props passed to a component.\n * @param {Function=} getArgs A function that returns argument(s) on-event callbacks\n *   shall be curried with.\n */\n\nexports.focusEvents = focusEvents;\n\nvar makeEventProps = function makeEventProps(props, getArgs) {\n  var eventProps = {};\n  [].concat(mouseEvents, touchEvents, keyboardEvents, focusEvents).forEach(function (eventName) {\n    if (props[eventName]) {\n      eventProps[eventName] = function (event) {\n        return getArgs ? props[eventName](event, getArgs(eventName)) : props[eventName](event);\n      };\n    }\n  });\n  return eventProps;\n};\n\nvar _default = makeEventProps;\nexports.default = _default;","export default function mergeClassNames() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.reduce(function (classList, arg) {\n    return typeof arg === 'string' || arg instanceof Array ? classList.concat(arg) : classList;\n  }, []).filter(Boolean).join(' ');\n}","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__w_pdfjs_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__w_pdfjs_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __w_pdfjs_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__w_pdfjs_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __w_pdfjs_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 0);\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-unused-vars */\n\n\"use strict\";\n\nvar pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\nvar pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nvar pdfjsSharedUtil = require(\"./shared/util.js\");\nvar pdfjsDisplayAPI = require(\"./display/api.js\");\nvar pdfjsDisplayTextLayer = require(\"./display/text_layer.js\");\nvar pdfjsDisplayAnnotationLayer = require(\"./display/annotation_layer.js\");\nvar pdfjsDisplayDisplayUtils = require(\"./display/display_utils.js\");\nvar pdfjsDisplaySVG = require(\"./display/svg.js\");\nconst pdfjsDisplayWorkerOptions = require(\"./display/worker_options.js\");\nconst pdfjsDisplayAPICompatibility = require(\"./display/api_compatibility.js\");\n\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const { isNodeJS } = require(\"./shared/is_node.js\");\n  if (isNodeJS) {\n    const PDFNodeStream = require(\"./display/node_stream.js\").PDFNodeStream;\n    pdfjsDisplayAPI.setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n    let PDFFetchStream;\n    if (pdfjsDisplayDisplayUtils.isFetchSupported()) {\n      PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n    }\n    pdfjsDisplayAPI.setPDFNetworkStreamFactory(params => {\n      if (\n        PDFFetchStream &&\n        pdfjsDisplayDisplayUtils.isValidFetchUrl(params.url)\n      ) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n} else if (PDFJSDev.test(\"CHROME\")) {\n  const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n  let PDFFetchStream;\n  const isChromeWithFetchCredentials = function() {\n    // fetch does not include credentials until Chrome 61.0.3138.0 and later.\n    // https://chromium.googlesource.com/chromium/src/+/2e231cf052ca5e68e22baf0008ac9e5e29121707\n    try {\n      // Indexed properties on window are read-only in Chrome 61.0.3151.0+\n      // https://chromium.googlesource.com/chromium/src.git/+/58ab4a971b06dec13e4edf9de8382ca6847f6190\n      window[999] = 123; // should throw. Note: JS strict mode MUST be enabled.\n      delete window[999];\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  if (\n    pdfjsDisplayDisplayUtils.isFetchSupported() &&\n    isChromeWithFetchCredentials()\n  ) {\n    PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n  }\n  pdfjsDisplayAPI.setPDFNetworkStreamFactory(params => {\n    if (\n      PDFFetchStream &&\n      pdfjsDisplayDisplayUtils.isValidFetchUrl(params.url)\n    ) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n}\n\nexports.build = pdfjsDisplayAPI.build;\nexports.version = pdfjsDisplayAPI.version;\nexports.getDocument = pdfjsDisplayAPI.getDocument;\nexports.LoopbackPort = pdfjsDisplayAPI.LoopbackPort;\nexports.PDFDataRangeTransport = pdfjsDisplayAPI.PDFDataRangeTransport;\nexports.PDFWorker = pdfjsDisplayAPI.PDFWorker;\nexports.renderTextLayer = pdfjsDisplayTextLayer.renderTextLayer;\nexports.AnnotationLayer = pdfjsDisplayAnnotationLayer.AnnotationLayer;\nexports.createPromiseCapability = pdfjsSharedUtil.createPromiseCapability;\nexports.PasswordResponses = pdfjsSharedUtil.PasswordResponses;\nexports.InvalidPDFException = pdfjsSharedUtil.InvalidPDFException;\nexports.MissingPDFException = pdfjsSharedUtil.MissingPDFException;\nexports.SVGGraphics = pdfjsDisplaySVG.SVGGraphics;\nexports.NativeImageDecoding = pdfjsSharedUtil.NativeImageDecoding;\nexports.CMapCompressionType = pdfjsSharedUtil.CMapCompressionType;\nexports.PermissionFlag = pdfjsSharedUtil.PermissionFlag;\nexports.UnexpectedResponseException =\n  pdfjsSharedUtil.UnexpectedResponseException;\nexports.OPS = pdfjsSharedUtil.OPS;\nexports.VerbosityLevel = pdfjsSharedUtil.VerbosityLevel;\nexports.UNSUPPORTED_FEATURES = pdfjsSharedUtil.UNSUPPORTED_FEATURES;\nexports.createValidAbsoluteUrl = pdfjsSharedUtil.createValidAbsoluteUrl;\nexports.createObjectURL = pdfjsSharedUtil.createObjectURL;\nexports.removeNullCharacters = pdfjsSharedUtil.removeNullCharacters;\nexports.shadow = pdfjsSharedUtil.shadow;\nexports.Util = pdfjsSharedUtil.Util;\nexports.RenderingCancelledException =\n  pdfjsDisplayDisplayUtils.RenderingCancelledException;\nexports.getFilenameFromUrl = pdfjsDisplayDisplayUtils.getFilenameFromUrl;\nexports.LinkTarget = pdfjsDisplayDisplayUtils.LinkTarget;\nexports.addLinkAttributes = pdfjsDisplayDisplayUtils.addLinkAttributes;\nexports.loadScript = pdfjsDisplayDisplayUtils.loadScript;\nexports.PDFDateString = pdfjsDisplayDisplayUtils.PDFDateString;\nexports.GlobalWorkerOptions = pdfjsDisplayWorkerOptions.GlobalWorkerOptions;\nexports.apiCompatibilityParams =\n  pdfjsDisplayAPICompatibility.apiCompatibilityParams;\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nconst NativeImageDecoding = {\n  NONE: \"none\",\n  DECODE: \"decode\",\n  DISPLAY: \"display\",\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  font: \"font\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the whitelisted protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\nconst BaseException = (function BaseExceptionClosure() {\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {}\n\nclass MissingPDFException extends BaseException {}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {}\n\nconst NullCharactersRegExp = /\\x00/g;\n\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined);\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array} arr - the array of the arrays (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst rgbBuf = [\"rgb(\", 0, \",\", 0, \",\", 0, \")\"];\n\nclass Util {\n  // makeCssRgb() can be called thousands of times. Using rgbBuf` avoids\n  // creating many intermediate strings.\n  static makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join(\"\");\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\n// prettier-ignore\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every(function(element, index) {\n    return element === arr2[index];\n  });\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function(resolve, reject) {\n    capability.resolve = function(data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function(reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], { type: contentType });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n        d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nexport {\n  BaseException,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VerbosityLevel,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MissingPDFException,\n  NativeImageDecoding,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createPromiseCapability,\n  createObjectURL,\n  getVerbosityLevel,\n  info,\n  isArrayBuffer,\n  isArrayEqual,\n  isBool,\n  isEmptyObj,\n  isNum,\n  isString,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  IsLittleEndianCached,\n  IsEvalSupportedCached,\n  removeNullCharacters,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\n// Skip compatibility checks for modern builds (unless we're running the\n// unit-tests in Node.js/Travis) and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!SKIP_BABEL || (LIB && TESTING)\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for globalThis in legacy browsers.\n  // Support: IE11/Edge, Opera\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  const { isNodeJS } = require(\"./is_node.js\");\n\n  const hasDOM = typeof window === \"object\" && typeof document === \"object\";\n  const userAgent =\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n  const isIE = /Trident/.test(userAgent);\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function(chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function(input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Provides support for ChildNode.remove in legacy browsers.\n  // Support: IE.\n  (function checkChildNodeRemove() {\n    if (!hasDOM) {\n      return;\n    }\n    if (typeof Element.prototype.remove !== \"undefined\") {\n      return;\n    }\n    Element.prototype.remove = function() {\n      if (this.parentNode) {\n        // eslint-disable-next-line mozilla/avoid-removeChild\n        this.parentNode.removeChild(this);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.{add, remove}, with more than\n  // one parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListAddRemove() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.classList.add(\"testOne\", \"testTwo\");\n\n    if (\n      div.classList.contains(\"testOne\") === true &&\n      div.classList.contains(\"testTwo\") === true\n    ) {\n      return;\n    }\n    const OriginalDOMTokenListAdd = DOMTokenList.prototype.add;\n    const OriginalDOMTokenListRemove = DOMTokenList.prototype.remove;\n\n    DOMTokenList.prototype.add = function(...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListAdd.call(this, token);\n      }\n    };\n    DOMTokenList.prototype.remove = function(...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListRemove.call(this, token);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.toggle, with the optional\n  // \"force\" parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListToggle() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    if (div.classList.toggle(\"test\", 0) === false) {\n      return;\n    }\n\n    DOMTokenList.prototype.toggle = function(token) {\n      const force =\n        arguments.length > 1 ? !!arguments[1] : !this.contains(token);\n      return this[force ? \"add\" : \"remove\"](token), force;\n    };\n  })();\n\n  // Provides support for window.history.{pushState, replaceState}, with the\n  // `url` parameter set to `undefined`, without breaking the document URL.\n  // Support: IE\n  (function checkWindowHistoryPushStateReplaceState() {\n    if (!hasDOM || !isIE) {\n      return;\n    }\n    const OriginalPushState = window.history.pushState;\n    const OriginalReplaceState = window.history.replaceState;\n\n    window.history.pushState = function(state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalPushState.apply(this, args);\n    };\n    window.history.replaceState = function(state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalReplaceState.apply(this, args);\n    };\n  })();\n\n  // Provides support for String.prototype.startsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringStartsWith() {\n    if (String.prototype.startsWith) {\n      return;\n    }\n    require(\"core-js/es/string/starts-with.js\");\n  })();\n\n  // Provides support for String.prototype.endsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringEndsWith() {\n    if (String.prototype.endsWith) {\n      return;\n    }\n    require(\"core-js/es/string/ends-with.js\");\n  })();\n\n  // Provides support for String.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringIncludes() {\n    if (String.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/string/includes.js\");\n  })();\n\n  // Provides support for Array.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<47\n  (function checkArrayIncludes() {\n    if (Array.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/array/includes.js\");\n  })();\n\n  // Provides support for Array.from in legacy browsers.\n  // Support: IE\n  (function checkArrayFrom() {\n    if (Array.from) {\n      return;\n    }\n    require(\"core-js/es/array/from.js\");\n  })();\n\n  // Provides support for Object.assign in legacy browsers.\n  // Support: IE\n  (function checkObjectAssign() {\n    if (Object.assign) {\n      return;\n    }\n    require(\"core-js/es/object/assign.js\");\n  })();\n\n  // Provides support for Math.log2 in legacy browsers.\n  // Support: IE, Chrome<38\n  (function checkMathLog2() {\n    if (Math.log2) {\n      return;\n    }\n    Math.log2 = require(\"core-js/es/math/log2.js\");\n  })();\n\n  // Provides support for Number.isNaN in legacy browsers.\n  // Support: IE.\n  (function checkNumberIsNaN() {\n    if (Number.isNaN) {\n      return;\n    }\n    Number.isNaN = require(\"core-js/es/number/is-nan.js\");\n  })();\n\n  // Provides support for Number.isInteger in legacy browsers.\n  // Support: IE, Chrome<34\n  (function checkNumberIsInteger() {\n    if (Number.isInteger) {\n      return;\n    }\n    Number.isInteger = require(\"core-js/es/number/is-integer.js\");\n  })();\n\n  // Support: IE, Safari<11, Chrome<63\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise && globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: IE\n  (function checkURL() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders don't use the `URL` constructor, so it\n      // doesn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n      // The `URL` constructor is assumed to be available in the extension\n      // builds.\n      return;\n    }\n    globalThis.URL = require(\"core-js/web/url.js\");\n  })();\n\n  // Support: IE, Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    let isReadableStreamSupported = false;\n\n    if (typeof ReadableStream !== \"undefined\") {\n      // MS Edge may say it has ReadableStream but they are not up to spec yet.\n      try {\n        // eslint-disable-next-line no-new\n        new ReadableStream({\n          start(controller) {\n            controller.close();\n          },\n        });\n        isReadableStreamSupported = true;\n      } catch (e) {\n        // The ReadableStream constructor cannot be used.\n      }\n    }\n    if (isReadableStreamSupported) {\n      return;\n    }\n    globalThis.ReadableStream = require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n\n  // We want to support Map iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkMapEntries() {\n    if (globalThis.Map && globalThis.Map.prototype.entries) {\n      return;\n    }\n    globalThis.Map = require(\"core-js/es/map/index.js\");\n  })();\n\n  // We want to support Set iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkSetEntries() {\n    if (globalThis.Set && globalThis.Set.prototype.entries) {\n      return;\n    }\n    globalThis.Set = require(\"core-js/es/set/index.js\");\n  })();\n\n  // Support: IE<11, Safari<8, Chrome<36\n  (function checkWeakMap() {\n    if (globalThis.WeakMap) {\n      return;\n    }\n    globalThis.WeakMap = require(\"core-js/es/weak-map/index.js\");\n  })();\n\n  // Support: IE11\n  (function checkWeakSet() {\n    if (globalThis.WeakSet) {\n      return;\n    }\n    globalThis.WeakSet = require(\"core-js/es/weak-set/index.js\");\n  })();\n\n  // Provides support for String.codePointAt in legacy browsers.\n  // Support: IE11.\n  (function checkStringCodePointAt() {\n    if (String.prototype.codePointAt) {\n      return;\n    }\n    require(\"core-js/es/string/code-point-at.js\");\n  })();\n\n  // Provides support for String.fromCodePoint in legacy browsers.\n  // Support: IE11.\n  (function checkStringFromCodePoint() {\n    if (String.fromCodePoint) {\n      return;\n    }\n    String.fromCodePoint = require(\"core-js/es/string/from-code-point.js\");\n  })();\n\n  // Support: IE\n  (function checkSymbol() {\n    if (globalThis.Symbol) {\n      return;\n    }\n    require(\"core-js/es/symbol/index.js\");\n  })();\n\n  // Provides support for String.prototype.padStart in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadStart() {\n    if (String.prototype.padStart) {\n      return;\n    }\n    require(\"core-js/es/string/pad-start.js\");\n  })();\n\n  // Provides support for String.prototype.padEnd in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadEnd() {\n    if (String.prototype.padEnd) {\n      return;\n    }\n    require(\"core-js/es/string/pad-end.js\");\n  })();\n\n  // Provides support for Object.values in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectValues() {\n    if (Object.values) {\n      return;\n    }\n    Object.values = require(\"core-js/es/object/values.js\");\n  })();\n}\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  NativeImageDecoding,\n  PasswordException,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  loadScript,\n  PageViewport,\n  releaseImageResources,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport { apiCompatibilityParams } from \"./api_compatibility.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { WebGLContext } from \"./webgl.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params The document initialization\n * parameters. The \"url\" key is always present.\n * @returns {IPDFStream}\n */\n\n/** @type IPDFStreamFactory */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates a IPDFStream as an alternative PDF data\n * transport.\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - the factory function\n * that takes document initialization parameters (including a \"url\") and returns\n * an instance of IPDFStream.\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string}     [url] - The URL of the PDF.\n * @property {TypedArray|Array|string} [data] - Binary PDF data. Use typed\n *    arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use atob() to convert it to a binary string first.\n * @property {Object}     [httpHeaders] - Basic authentication headers.\n * @property {boolean}    [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is false.\n * @property {string}     [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number}     [length] - The PDF file length. It's used for\n *   progress reports and range requests operations.\n * @property {PDFDataRangeTransport} [range]\n * @property {number}     [rangeChunkSize] - Specify maximum number of bytes\n *   fetched per range request. The default value is 2^16 = 65536.\n * @property {PDFWorker}  [worker] - The worker that will be used for\n *   the loading and parsing of the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the\n *   constants from {VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document,\n *   used when attempting to recover valid absolute URLs for annotations, and\n *   outline items, that (incorrectly) only specify relative URLs.\n * @property {string} [nativeImageDecoderSupport] - Strategy for\n *   decoding certain (simple) JPEG images in the browser. This is useful for\n *   environments without DOM image and canvas support, such as e.g. Node.js.\n *   Valid values are 'decode', 'display' or 'none'; where 'decode' is intended\n *   for browsers with full image/canvas support, 'display' for environments\n *   with limited image support through stubs (useful for SVG conversion),\n *   and 'none' where JPEG images will be decoded entirely by PDF.js.\n *   The default value is 'decode'.\n * @property {string} [cMapUrl] - The URL where the predefined\n *   Adobe CMaps are located. Include trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are\n *   binary packed.\n * @property {Object} [CMapReaderFactory] - The factory that will be\n *   used when reading built-in CMap files. Providing a custom factory is useful\n *   for environments without `XMLHttpRequest` support, such as e.g. Node.js.\n *   The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size\n *   in total pixels, i.e. width * height. Images above this value will not be\n *   rendered. Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can eval\n *   strings as JS. Primarily used to improve performance of font rendering,\n *   and when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are\n *   converted to OpenType fonts and loaded via font face rules. If disabled,\n *   fonts will be rendered using a built-in font renderer that constructs the\n *   glyphs with primitive path commands. The default value is `false`.\n * @property {boolean} [disableRange] - Disable range request loading\n *   of PDF files. When enabled, and if the server supports partial content\n *   requests, then the PDF will be fetched in chunks.\n *   The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file\n *   data. By default PDF.js attempts to load PDFs in chunks.\n *   The default value is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF\n *   file data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *   NOTE: It is also necessary to disable streaming, see above,\n *         in order for disabling of pre-fetching to work correctly.\n * @property {boolean} [disableCreateObjectURL] - Disable the use of\n *   `URL.createObjectURL`, for compatibility with older browsers.\n *   The default value is `false`.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging\n *   PDF.js (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Object} streamTypes - Used stream types in the document (an item\n *   is set to true if specific stream ID was used in the document).\n * @property {Object} fontTypes - Used font types in the document (an item\n *   is set to true if specific font ID was used in the document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n * is used, which means it must follow the same origin rules that any XHR does\n * e.g. No cross domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src\n * Can be a url to where a PDF is located, a typed array (Uint8Array)\n * already populated with data or parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\") {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either Uint8Array, string or a parameter object\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    if (key === \"url\" && typeof window !== \"undefined\") {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === \"range\") {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === \"worker\") {\n      worker = source[key];\n      continue;\n    } else if (key === \"data\" && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      const pdfBytes = source[key];\n      if (typeof pdfBytes === \"string\") {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (\n        typeof pdfBytes === \"object\" &&\n        pdfBytes !== null &&\n        !isNaN(pdfBytes.length)\n      ) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error(\n          \"Invalid PDF binary data: either typed array, \" +\n            \"string or array-like object is expected in the \" +\n            \"data property.\"\n        );\n      }\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory = params.CMapReaderFactory || DOMCMapReaderFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.pdfBug = params.pdfBug === true;\n\n  const NativeImageDecoderValues = Object.values(NativeImageDecoding);\n  if (\n    params.nativeImageDecoderSupport === undefined ||\n    !NativeImageDecoderValues.includes(params.nativeImageDecoderSupport)\n  ) {\n    params.nativeImageDecoderSupport =\n      apiCompatibilityParams.nativeImageDecoderSupport ||\n      NativeImageDecoding.DECODE;\n  }\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = apiCompatibilityParams.disableFontFace || false;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n  if (typeof params.disableCreateObjectURL !== \"boolean\") {\n    params.disableCreateObjectURL =\n      apiCompatibilityParams.disableCreateObjectURL || false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function() {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      return _fetchDocument(worker, params, rangeTransport, docId).then(\n        function(workerId) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          let networkStream;\n          if (rangeTransport) {\n            networkStream = new PDFDataTransportStream(\n              {\n                length: params.length,\n                initialData: params.initialData,\n                progressiveDone: params.progressiveDone,\n                disableRange: params.disableRange,\n                disableStream: params.disableStream,\n              },\n              rangeTransport\n            );\n          } else if (!params.data) {\n            networkStream = createPDFNetworkStream({\n              url: params.url,\n              length: params.length,\n              httpHeaders: params.httpHeaders,\n              withCredentials: params.withCredentials,\n              rangeChunkSize: params.rangeChunkSize,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            });\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          messageHandler.postMessageTransfers = worker.postMessageTransfers;\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId Unique document id, used as MessageHandler id.\n * @returns {Promise} The promise, which is resolved when worker id of\n *                    MessageHandler is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error(\"Worker was destroyed\"));\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n  }\n  return worker.messageHandler\n    .sendWithPromise(\"GetDocRequest\", {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      disableCreateObjectURL: source.disableCreateObjectURL,\n      postMessageTransfers: worker.postMessageTransfers,\n      docBaseUrl: source.docBaseUrl,\n      nativeImageDecoderSupport: source.nativeImageDecoderSupport,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n    })\n    .then(function(workerId) {\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      return workerId;\n    });\n}\n\nconst PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  let nextDocumentId = 0;\n\n  /**\n   * The loading task controls the operations required to load a PDF document\n   * (such as network requests) and provides a way to listen for completion,\n   * after which individual pages can be rendered.\n   */\n  class PDFDocumentLoadingTask {\n    constructor() {\n      this._capability = createPromiseCapability();\n      this._transport = null;\n      this._worker = null;\n\n      /**\n       * Unique document loading task id -- used in MessageHandlers.\n       * @type {string}\n       */\n      this.docId = \"d\" + nextDocumentId++;\n\n      /**\n       * Shows if loading task is destroyed.\n       * @type {boolean}\n       */\n      this.destroyed = false;\n\n      /**\n       * Callback to request a password if wrong or no password was provided.\n       * The callback receives two parameters: function that needs to be called\n       * with new password and reason (see {PasswordResponses}).\n       */\n      this.onPassword = null;\n\n      /**\n       * Callback to be able to monitor the loading progress of the PDF file\n       * (necessary to implement e.g. a loading bar). The callback receives\n       * an {Object} with the properties: {number} loaded and {number} total.\n       */\n      this.onProgress = null;\n\n      /**\n       * Callback to when unsupported feature is used. The callback receives\n       * an {UNSUPPORTED_FEATURES} argument.\n       */\n      this.onUnsupportedFeature = null;\n    }\n\n    /**\n     * Promise for document loading task completion.\n     * @type {Promise}\n     */\n    get promise() {\n      return this._capability.promise;\n    }\n\n    /**\n     * Aborts all network requests and destroys worker.\n     * @returns {Promise} A promise that is resolved after destruction activity\n     *                    is completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      const transportDestroyed = !this._transport\n        ? Promise.resolve()\n        : this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    }\n\n    /**\n     * Registers callbacks to indicate the document loading completion.\n     * @ignore\n     */\n    then(onFulfilled, onRejected) {\n      throw new Error(\n        \"Removed API method: \" +\n          \"PDFDocumentLoadingTask.then, use the `promise` getter instead.\"\n      );\n    }\n  }\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n * @param {number} length\n * @param {Uint8Array} initialData\n * @param {boolean} progressiveDone\n */\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n * properties that can be read synchronously.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n\n  /**\n   * @type {number} Total number of pages the PDF contains.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {string} A (not guaranteed to be) unique ID to identify a PDF.\n   */\n  get fingerprint() {\n    return this._pdfInfo.fingerprint;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise} A promise that is resolved with a {@link PDFPageProxy}\n   *   object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {{num: number, gen: number}} ref - The page reference. Must have\n   *   the `num` and `gen` properties.\n   * @returns {Promise} A promise that is resolved with the page index (starting\n   *   from zero) that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with a lookup table for\n   *   mapping named destinations to reference numbers.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise} A promise that is resolved with all information\n   *   of the given named destination.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Array} containing\n   *   the page labels that correspond to the page indexes, or `null` when\n   *   no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with a {string} containing\n   *   the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with a {string} containing\n   *   the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Object} containing\n   *   the viewer preferences.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Object} containing\n   *   the currently supported actions, or `null` when no OpenAction exists.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  getOpenActionDestination() {\n    deprecated(\"getOpenActionDestination, use getOpenAction instead.\");\n    return this.getOpenAction().then(function(openAction) {\n      return openAction && openAction.dest ? openAction.dest : null;\n    });\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with a lookup table for\n   *   mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Array} of all the\n   *   JavaScript strings in the name tree, or `null` if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Array} that is a\n   * tree outline (if it has one) of the PDF. The tree is in the format of:\n   * [\n   *   {\n   *     title: string,\n   *     bold: boolean,\n   *     italic: boolean,\n   *     color: rgb Uint8ClampedArray,\n   *     count: integer or undefined,\n   *     dest: dest obj,\n   *     url: string,\n   *     items: array of more items like this\n   *   },\n   *   ...\n   * ]\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Array} that contains\n   *   the permission flags for the PDF document, or `null` when\n   *   no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with an {Object} that has\n   *   `info` and `metadata` properties. `info` is an {Object} filled with\n   *   anything available in the information dictionary and similarly\n   *   `metadata` is a {Metadata} object with information from the metadata\n   *   section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved with a {TypedArray} that has\n   *   the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise} A promise that is resolved when the document's data\n   *   is loaded. It is resolved with an {Object} that contains the `length`\n   *   property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * @returns {Promise} A promise this is resolved with current statistics about\n   *   document structures (see {@link PDFDocumentStats}).\n   */\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  /**\n   * Cleans up resources allocated by the document, on both the main- and\n   * worker-threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   *       currently ongoing since that may lead to rendering errors.\n   *\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup() {\n    return this._transport.startCleanup();\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {Object} A subset of the current {DocumentInitParameters}, which are\n   *   either needed in the viewer and/or whose default values may be affected\n   *   by the `apiCompatibilityParams`.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {array} items - array of {@link TextItem}\n * @property {Object} styles - {@link TextStyle} objects, indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - text content.\n * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {array} transform - transformation matrix.\n * @property {number} width - width in device space.\n * @property {number} height - height in device space.\n * @property {string} fontName - font name used by pdf.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - font ascent.\n * @property {number} descent - font descent.\n * @property {boolean} vertical - text is in vertical mode.\n * @property {string} fontFamily - possible font family\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *                    can be either 'display' (viewable annotations) or 'print'\n *                    (printable annotations).\n *                    If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by\n *                          calling the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display' or 'print'\n *                    (default value is 'display').\n * @property {boolean} [enableWebGL] - Enables WebGL accelerated rendering\n *                     for some operations. The default value is `false`.\n * @property {boolean} [renderInteractiveForms] - Whether or not\n *                     interactive form elements are rendered in the display\n *                     layer. If so, we do not render them on canvas as well.\n * @property {Array}  [transform] - Additional transform, applied\n *                    just before viewport transform.\n * @property {Object} [imageLayer] - An object that has beginLayout,\n *                    endLayout and appendImage functions.\n * @property {Object} [canvasFactory] - The factory that will be used\n *                    when creating canvases. The default value is\n *                    {DOMCanvasFactory}.\n * @property {Object} [background] - Background to use for the canvas.\n *                    Can use any valid canvas.fillStyle: A DOMString parsed as\n *                    CSS <color> value, a CanvasGradient object (a linear or\n *                    radial gradient) or a CanvasPattern object (a repetitive\n *                    image). The default value is 'rgb(255,255,255)'.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array} fnArray - Array containing the operator functions.\n * @property {Array} argsArray - Array containing the arguments of the\n *                               functions.\n */\n\n/**\n * Proxy to a PDFPage in the worker thread.\n * @alias PDFPageProxy\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this.intentStates = Object.create(null);\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {Object} The reference that points to this page. It has `num` and\n   *   `gen` properties.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array} An array of the visible portion of the PDF page in user\n   *   space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC\") &&\n      (arguments.length > 1 || typeof arguments[0] === \"number\")\n    ) {\n      throw new Error(\n        \"PDFPageProxy.getViewport is called with obsolete arguments.\"\n      );\n    }\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise} A promise that is resolved with an {Array} of the\n   *   annotation objects.\n   */\n  getAnnotations({ intent = null } = {}) {\n    if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n      this.annotationsPromise = this._transport.getAnnotations(\n        this._pageIndex,\n        intent\n      );\n      this.annotationsIntent = intent;\n    }\n    return this.annotationsPromise;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   * @param {RenderParameters} params Page render parameters.\n   * @returns {RenderTask} An object that contains the promise, which\n   *                       is resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    enableWebGL = false,\n    renderInteractiveForms = false,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n  }) {\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const renderingIntent = intent === \"print\" ? \"print\" : \"display\";\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!this.intentStates[renderingIntent]) {\n      this.intentStates[renderingIntent] = Object.create(null);\n    }\n    const intentState = this.intentStates[renderingIntent];\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance = canvasFactory || new DOMCanvasFactory();\n    const webGLContext = new WebGLContext({\n      enable: enableWebGL,\n    });\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        renderInteractiveForms: renderInteractiveForms === true,\n      });\n    }\n\n    const complete = error => {\n      const i = intentState.renderTasks.indexOf(internalRenderTask);\n      if (i >= 0) {\n        intentState.renderTasks.splice(i, 1);\n      }\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || renderingIntent === \"print\") {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error,\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      webGLContext,\n      useRequestAnimationFrame: renderingIntent !== \"print\",\n      pdfBug: this._pdfBug,\n    });\n\n    if (!intentState.renderTasks) {\n      intentState.renderTasks = [];\n    }\n    intentState.renderTasks.push(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    intentState.displayReadyCapability.promise\n      .then(transparency => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics(transparency);\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @returns {Promise} A promise resolved with an {@link PDFOperatorList}\n   *   object that represents page's operator list.\n   */\n  getOperatorList() {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        const i = intentState.renderTasks.indexOf(opListTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n      }\n    }\n\n    const renderingIntent = \"oplist\";\n    if (!this.intentStates[renderingIntent]) {\n      this.intentStates[renderingIntent] = Object.create(null);\n    }\n    const intentState = this.intentStates[renderingIntent];\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = {};\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      intentState.renderTasks = [];\n      intentState.renderTasks.push(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n      });\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} ReadableStream to read textContent chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise} That is resolved a {@link TextContent}\n   *   object that represent the page text content.\n   */\n  getTextContent(params = {}) {\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function(resolve, reject) {\n      function pump() {\n        reader.read().then(function({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n\n    const waitOn = [];\n    Object.keys(this.intentStates).forEach(intent => {\n      const intentState = this.intentStates[intent];\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intent === \"oplist\") {\n        // Avoid errors below, since the renderTasks are just stubs.\n        return;\n      }\n      intentState.renderTasks.forEach(function(renderTask) {\n        const renderCompleted = renderTask.capability.promise.catch(\n          function() {}\n        ); // ignoring failures\n        waitOn.push(renderCompleted);\n        renderTask.cancel();\n      });\n    });\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicating if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (\n      !this.pendingCleanup ||\n      Object.keys(this.intentStates).some(intent => {\n        const intentState = this.intentStates[intent];\n        return (\n          intentState.renderTasks.length !== 0 ||\n          !intentState.operatorList.lastChunk\n        );\n      })\n    ) {\n      return false;\n    }\n\n    Object.keys(this.intentStates).forEach(intent => {\n      delete this.intentStates[intent];\n    });\n    this.objs.clear();\n    this.annotationsPromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, intent) {\n    const intentState = this.intentStates[intent];\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (let i = 0; i < intentState.renderTasks.length; i++) {\n      intentState.renderTasks[i].operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList(args) {\n    assert(\n      args.intent,\n      'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.'\n    );\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      args\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this.intentStates[args.intent];\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (let i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.'\n    );\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.length !== 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(\n      new AbortException(reason && reason.message)\n    );\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    Object.keys(this.intentStates).some(intent => {\n      if (this.intentStates[intent] === intentState) {\n        delete this.intentStates[intent];\n        return true;\n      }\n      return false;\n    });\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor(defer = true) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) {\n        // already cloned the object\n        return cloned.get(value);\n      }\n      let buffer, result;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        const transferable = transfers && transfers.includes(buffer);\n        if (transferable) {\n          result = new value.constructor(\n            buffer,\n            value.byteOffset,\n            value.byteLength\n          );\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (const i in value) {\n        let desc,\n          p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n        if (typeof desc.value === \"function\") {\n          if (value.hasOwnProperty && value.hasOwnProperty(i)) {\n            throw new Error(\n              `LoopbackPort.postMessage - cannot clone: ${value[i]}`\n            );\n          }\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(listener => {\n        listener.call(this, { data: obj });\n      });\n      return;\n    }\n\n    const cloned = new WeakMap();\n    const e = { data: cloneValue(obj) };\n    this._deferred.then(() => {\n      this._listeners.forEach(listener => {\n        listener.call(this, e);\n      });\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort`.\n * @property {number} [verbosity] - Controls the logging level; the\n *   constants from {VerbosityLevel} should be used.\n */\n\nconst PDFWorker = (function PDFWorkerClosure() {\n  const pdfWorkerPorts = new WeakMap();\n  let isWorkerDisabled = false;\n  let fallbackWorkerSrc;\n  let nextFakeWorkerId = 0;\n  let fakeWorkerCapability;\n\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n    // eslint-disable-next-line no-undef\n    if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n      // Workers aren't supported in Node.js, force-disabling them there.\n      isWorkerDisabled = true;\n\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"LIB\")) {\n        fallbackWorkerSrc = \"../pdf.worker.js\";\n      } else {\n        fallbackWorkerSrc = \"./pdf.worker.js\";\n      }\n    } else if (typeof document === \"object\" && \"currentScript\" in document) {\n      const pdfjsFilePath =\n        document.currentScript && document.currentScript.src;\n      if (pdfjsFilePath) {\n        fallbackWorkerSrc = pdfjsFilePath.replace(\n          /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n          \".worker$1$2\"\n        );\n      }\n    }\n  }\n\n  function getWorkerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (typeof fallbackWorkerSrc !== \"undefined\") {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  function getMainThreadWorkerMessageHandler() {\n    let mainWorkerMessageHandler;\n    try {\n      mainWorkerMessageHandler =\n        globalThis.pdfjsWorker && globalThis.pdfjsWorker.WorkerMessageHandler;\n    } catch (ex) {\n      /* Ignore errors. */\n    }\n    return mainWorkerMessageHandler || null;\n  }\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    if (fakeWorkerCapability) {\n      return fakeWorkerCapability.promise;\n    }\n    fakeWorkerCapability = createPromiseCapability();\n\n    const loader = async function() {\n      const mainWorkerMessageHandler = getMainThreadWorkerMessageHandler();\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        if (typeof SystemJS !== \"object\") {\n          throw new Error(\"SystemJS must be used to load fake worker.\");\n        }\n        const worker = await SystemJS.import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(getWorkerSrc());\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(getWorkerSrc());\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n    loader().then(fakeWorkerCapability.resolve, fakeWorkerCapability.reject);\n\n    return fakeWorkerCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = \"importScripts('\" + url + \"');\";\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  /**\n   * PDF.js web worker abstraction, which controls the instantiation of PDF\n   * documents. Message handlers are used to pass information from the main\n   * thread to the worker thread and vice versa. If the creation of a web\n   * worker is not possible, a \"fake\" worker will be used instead.\n   */\n  class PDFWorker {\n    /**\n     * @param {PDFWorkerParameters} params - Worker initialization parameters.\n     */\n    constructor({\n      name = null,\n      port = null,\n      verbosity = getVerbosityLevel(),\n    } = {}) {\n      if (port && pdfWorkerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port\");\n      }\n\n      this.name = name;\n      this.destroyed = false;\n      this.postMessageTransfers = true;\n      this.verbosity = verbosity;\n\n      this._readyCapability = createPromiseCapability();\n      this._port = null;\n      this._webWorker = null;\n      this._messageHandler = null;\n\n      if (port) {\n        pdfWorkerPorts.set(port, this);\n        this._initializeFromPort(port);\n        return;\n      }\n      this._initialize();\n    }\n\n    get promise() {\n      return this._readyCapability.promise;\n    }\n\n    get port() {\n      return this._port;\n    }\n\n    get messageHandler() {\n      return this._messageHandler;\n    }\n\n    _initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n      this._messageHandler.on(\"ready\", function() {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    }\n\n    _initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if (\n        typeof Worker !== \"undefined\" &&\n        !isWorkerDisabled &&\n        !getMainThreadWorkerMessageHandler()\n      ) {\n        let workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (\n            typeof PDFJSDev !== \"undefined\" &&\n            PDFJSDev.test(\"GENERIC\") &&\n            !isSameOrigin(window.location.href, workerSrc)\n          ) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href\n            );\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          const worker = new Worker(workerSrc);\n          const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n          const terminateEarly = () => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          const onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener(\"error\", onWorkerError);\n\n          messageHandler.on(\"test\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            if (data) {\n              // supportTypedArray\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send(\"configure\", {\n                verbosity: this.verbosity,\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on(\"ready\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          const sendTest = () => {\n            const testObj = new Uint8Array([\n              this.postMessageTransfers ? 255 : 0,\n            ]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send(\"test\", testObj, [testObj.buffer]);\n            } catch (ex) {\n              warn(\"Cannot use postMessage transfers.\");\n              testObj[0] = 0;\n              messageHandler.send(\"test\", testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info(\"The worker has been disabled.\");\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    }\n\n    _setupFakeWorker() {\n      if (!isWorkerDisabled) {\n        warn(\"Setting up fake worker.\");\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal()\n        .then(WorkerMessageHandler => {\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            return;\n          }\n          const port = new LoopbackPort();\n          this._port = port;\n\n          // All fake workers use the same port, making id unique.\n          const id = \"fake\" + nextFakeWorkerId++;\n\n          // If the main thread is our worker, setup the handling for the\n          // messages -- the main thread sends to it self.\n          const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n          WorkerMessageHandler.setup(workerHandler, port);\n\n          const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n          this._messageHandler = messageHandler;\n          this._readyCapability.resolve();\n          // Send global setting, e.g. verbosity level.\n          messageHandler.send(\"configure\", {\n            verbosity: this.verbosity,\n          });\n        })\n        .catch(reason => {\n          this._readyCapability.reject(\n            new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n          );\n        });\n    }\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    }\n\n    /**\n     * @param {PDFWorkerParameters} params - The worker initialization\n     *                                       parameters.\n     */\n    static fromPort(params) {\n      if (!params || !params.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      if (pdfWorkerPorts.has(params.port)) {\n        return pdfWorkerPorts.get(params.port);\n      }\n      return new PDFWorker(params);\n    }\n\n    static getWorkerSrc() {\n      return getWorkerSrc();\n    }\n  }\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n    });\n    this._params = params;\n    this.CMapReaderFactory = new params.CMapReaderFactory({\n      baseUrl: params.cMapUrl,\n      isCompressed: params.cMapPacked,\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    this.pageCache.forEach(function(page) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    });\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.fontLoader.clear();\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream);\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total,\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream);\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function(ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n      }\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"!PRODUCTION || TESTING\")\n      ) {\n        assert(reason instanceof Error, \"DocException: expected an Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length,\n        });\n      }\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.pageCache[data.pageIndex];\n      page._startRenderPage(data.transparency, data.intent);\n    });\n\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const [id, type, exportedData] = data;\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (\n            params.pdfBug &&\n            globalThis.FontInspector &&\n            globalThis.FontInspector.enabled\n          ) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader.bind(font).then(\n            () => {\n              this.commonObjs.resolve(id, font);\n            },\n            reason => {\n              messageHandler\n                .sendWithPromise(\"FontFallback\", {\n                  id,\n                })\n                .finally(() => {\n                  this.commonObjs.resolve(id, font);\n                });\n            }\n          );\n          break;\n        case \"FontPath\":\n        case \"FontType3Res\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"JpegStream\":\n          return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = function() {\n              resolve(img);\n            };\n            img.onerror = function() {\n              // Note that when the browser image loading/decoding fails,\n              // we'll fallback to the built-in PDF.js JPEG decoder; see\n              // `PartialEvaluator.buildPaintImageXObject` in the\n              // `src/core/evaluator.js` file.\n              reject(new Error(\"Error during JPEG image loading\"));\n\n              // Always remember to release the image data if errors occurred.\n              releaseImageResources(img);\n            };\n            img.src = imageData;\n          }).then(img => {\n            pageProxy.objs.resolve(id, img);\n          });\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (\n            imageData &&\n            \"data\" in imageData &&\n            imageData.data.length > MAX_IMAGE_SIZE_TO_STORE\n          ) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n      return undefined;\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total,\n        });\n      }\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"JpegDecode\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed\"));\n      }\n\n      if (typeof document === \"undefined\") {\n        // Make sure that this code is not executing in node.js, as\n        // it's using DOM image, and there is no library to support that.\n        return Promise.reject(new Error('\"document\" is not defined.'));\n      }\n\n      const [imageUrl, components] = data;\n      if (components !== 3 && components !== 1) {\n        return Promise.reject(\n          new Error(\"Only 3 components or 1 component can be returned\")\n        );\n      }\n\n      return new Promise(function(resolve, reject) {\n        const img = new Image();\n        img.onload = function() {\n          const { width, height } = img;\n          const size = width * height;\n          const rgbaLength = size * 4;\n          const buf = new Uint8ClampedArray(size * components);\n          let tmpCanvas = document.createElement(\"canvas\");\n          tmpCanvas.width = width;\n          tmpCanvas.height = height;\n          let tmpCtx = tmpCanvas.getContext(\"2d\");\n          tmpCtx.drawImage(img, 0, 0);\n          const data = tmpCtx.getImageData(0, 0, width, height).data;\n\n          if (components === 3) {\n            for (let i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n              buf[j] = data[i];\n              buf[j + 1] = data[i + 1];\n              buf[j + 2] = data[i + 2];\n            }\n          } else if (components === 1) {\n            for (let i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n              buf[j] = data[i];\n            }\n          }\n          resolve({ data: buf, width, height });\n\n          // Immediately release the image data once decoding has finished.\n          releaseImageResources(img);\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          tmpCanvas.width = 0;\n          tmpCanvas.height = 0;\n          tmpCanvas = null;\n          tmpCtx = null;\n        };\n        img.onerror = function() {\n          reject(new Error(\"JpegDecode failed to load image\"));\n\n          // Always remember to release the image data if errors occurred.\n          releaseImageResources(img);\n        };\n        img.src = imageUrl;\n      });\n    });\n\n    messageHandler.on(\"FetchBuiltInCMap\", (data, sink) => {\n      if (this.destroyed) {\n        sink.error(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      let fetched = false;\n\n      sink.onPull = () => {\n        if (fetched) {\n          sink.close();\n          return;\n        }\n        fetched = true;\n\n        this.CMapReaderFactory.fetch(data)\n          .then(function(builtInCMap) {\n            sink.enqueue(builtInCMap, 1, [builtInCMap.cMapData.buffer]);\n          })\n          .catch(function(reason) {\n            sink.error(reason);\n          });\n      };\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.pdfBug\n        );\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler\n      .sendWithPromise(\"GetPageIndex\", {\n        ref,\n      })\n      .catch(function(reason) {\n        return Promise.reject(new Error(reason));\n      });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader\n            ? this._fullReader.filename\n            : null,\n        };\n      });\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  startCleanup() {\n    return this.messageHandler.sendWithPromise(\"Cleanup\", null).then(() => {\n      for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n        const page = this.pageCache[i];\n        if (page) {\n          const cleanupSuccessful = page.cleanup();\n\n          if (!cleanupSuccessful) {\n            throw new Error(\n              `startCleanup: Page ${i + 1} is currently rendering.`\n            );\n          }\n        }\n      }\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n    });\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      disableCreateObjectURL: params.disableCreateObjectURL,\n      disableFontFace: params.disableFontFace,\n      nativeImageDecoderSupport: params.nativeImageDecoderSupport,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj ? obj.resolved : false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    for (const objId in this._objs) {\n      const { data } = this._objs[objId];\n\n      if (typeof Image !== \"undefined\" && data instanceof Image) {\n        // Always release the image data when clearing out the cached objects.\n        releaseImageResources(data);\n      }\n    }\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n * @alias RenderTask\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n\n  /**\n   * Registers callbacks to indicate the rendering task completion.\n   * @ignore\n   */\n  then(onFulfilled, onRejected) {\n    throw new Error(\n      \"Removed API method: \" +\n        \"RenderTask.then, use the `promise` getter instead.\"\n    );\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nconst InternalRenderTask = (function InternalRenderTaskClosure() {\n  const canvasInRendering = new WeakSet();\n\n  class InternalRenderTask {\n    constructor({\n      callback,\n      params,\n      objs,\n      commonObjs,\n      operatorList,\n      pageIndex,\n      canvasFactory,\n      webGLContext,\n      useRequestAnimationFrame = false,\n      pdfBug = false,\n    }) {\n      this.callback = callback;\n      this.params = params;\n      this.objs = objs;\n      this.commonObjs = commonObjs;\n      this.operatorListIdx = null;\n      this.operatorList = operatorList;\n      this._pageIndex = pageIndex;\n      this.canvasFactory = canvasFactory;\n      this.webGLContext = webGLContext;\n      this._pdfBug = pdfBug;\n\n      this.running = false;\n      this.graphicsReadyCallback = null;\n      this.graphicsReady = false;\n      this._useRequestAnimationFrame =\n        useRequestAnimationFrame === true && typeof window !== \"undefined\";\n      this.cancelled = false;\n      this.capability = createPromiseCapability();\n      this.task = new RenderTask(this);\n      // caching this-bound methods\n      this._continueBound = this._continue.bind(this);\n      this._scheduleNextBound = this._scheduleNext.bind(this);\n      this._nextBound = this._next.bind(this);\n      this._canvas = params.canvasContext.canvas;\n    }\n\n    initializeGraphics(transparency = false) {\n      if (this.cancelled) {\n        return;\n      }\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            \"Cannot use the same canvas during multiple render() operations. \" +\n              \"Use different canvas or ensure previous operations were \" +\n              \"cancelled or completed.\"\n          );\n        }\n        canvasInRendering.add(this._canvas);\n      }\n\n      if (\n        this._pdfBug &&\n        globalThis.StepperManager &&\n        globalThis.StepperManager.enabled\n      ) {\n        this.stepper = globalThis.StepperManager.create(this._pageIndex);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n      const {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      } = this.params;\n\n      this.gfx = new CanvasGraphics(\n        canvasContext,\n        this.commonObjs,\n        this.objs,\n        this.canvasFactory,\n        this.webGLContext,\n        imageLayer\n      );\n      this.gfx.beginDrawing({\n        transform,\n        viewport,\n        transparency,\n        background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    }\n\n    cancel(error = null) {\n      this.running = false;\n      this.cancelled = true;\n      if (this.gfx) {\n        this.gfx.endDrawing();\n      }\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n      this.callback(\n        error ||\n          new RenderingCancelledException(\n            `Rendering cancelled, page ${this._pageIndex + 1}`,\n            \"canvas\"\n          )\n      );\n    }\n\n    operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    }\n\n    _continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    }\n\n    _scheduleNext() {\n      if (this._useRequestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          this._nextBound().catch(this.cancel.bind(this));\n        });\n      } else {\n        Promise.resolve()\n          .then(this._nextBound)\n          .catch(this.cancel.bind(this));\n      }\n    }\n\n    async _next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(\n        this.operatorList,\n        this.operatorListIdx,\n        this._continueBound,\n        this.stepper\n      );\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    }\n  }\n  return InternalRenderTask;\n})();\n\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  setPDFNetworkStreamFactory,\n  version,\n  build,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  BaseException,\n  CMapCompressionType,\n  isString,\n  removeNullCharacters,\n  stringToBytes,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass DOMCanvasFactory {\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      (isFetchSupported() && isValidFetchUrl(url, document.baseURI))\n    ) {\n      return fetch(url)\n        .then(async response => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          let cMapData;\n          if (this.isCompressed) {\n            cMapData = new Uint8Array(await response.arrayBuffer());\n          } else {\n            cMapData = stringToBytes(await response.text());\n          }\n          return { cMapData, compressionType };\n        })\n        .catch(reason => {\n          throw new Error(\n            `Unable to load ${this.isCompressed ? \"binary \" : \"\"}` +\n              `CMap at: ${url}`\n          );\n        });\n    }\n\n    // The Fetch API is not supported.\n    return new Promise((resolve, reject) => {\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      if (this.isCompressed) {\n        request.responseType = \"arraybuffer\";\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let cMapData;\n          if (this.isCompressed && request.response) {\n            cMapData = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            cMapData = stringToBytes(request.responseText);\n          }\n          if (cMapData) {\n            resolve({ cMapData, compressionType });\n            return;\n          }\n        }\n        reject(new Error(request.statusText));\n      };\n\n      request.send(null);\n    }).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}` +\n          `CMap at: ${url}`\n      );\n    });\n  }\n}\n\nclass DOMSVGFactory {\n  create(width, height) {\n    assert(width > 0 && height > 0, \"Invalid SVG dimensions\");\n\n    const svg = document.createElementNS(SVG_NS, \"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", width + \"px\");\n    svg.setAttribute(\"height\", height + \"px\");\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n    return svg;\n  }\n\n  createElement(type) {\n    assert(typeof type === \"string\", \"Invalid SVG element type\");\n\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array} viewBox - The xMin, yMin, xMax and yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      // case 0:\n      default:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg);\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\n// Gets the file name from a given URL.\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isFetchSupported() {\n  return (\n    typeof fetch !== \"undefined\" &&\n    typeof Response !== \"undefined\" &&\n    \"body\" in Response.prototype &&\n    typeof ReadableStream !== \"undefined\"\n  );\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\nfunction loadScript(src) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = resolve;\n    script.onerror = function() {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nfunction releaseImageResources(img) {\n  assert(img instanceof Image, \"Invalid `img` parameter.\");\n\n  const url = img.src;\n  if (\n    typeof url === \"string\" &&\n    url.startsWith(\"blob:\") &&\n    URL.revokeObjectURL\n  ) {\n    URL.revokeObjectURL(url);\n  }\n  img.removeAttribute(\"src\");\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\nexport {\n  PageViewport,\n  RenderingCancelledException,\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  DEFAULT_LINK_REL,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMSVGFactory,\n  StatTimer,\n  isFetchSupported,\n  isValidFetchUrl,\n  loadScript,\n  deprecated,\n  releaseImageResources,\n  PDFDateString,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({ docId, onUnsupportedFeature }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    this.nativeFontFaces.forEach(function(nativeFontFace) {\n      document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({ featureId: UNSUPPORTED_FEATURES.font });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const supported = typeof document !== \"undefined\" && !!document.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", supported);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(docId) {\n      super(docId);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function() {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        const span = document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, function() {\n        document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature = null,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(new Uint8Array(this.data));\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds, current;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      if (this._onUnsupportedFeature) {\n        this._onUnsupportedFeature({ featureId: UNSUPPORTED_FEATURES.font });\n      }\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function(c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      let args,\n        js = \"\";\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.args !== undefined) {\n          args = current.args.join(\",\");\n        } else {\n          args = \"\";\n        }\n        js += \"c.\" + current.cmd + \"(\" + args + \");\\n\";\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\"c\", \"size\", js));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function(c, size) {\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst compatibilityParams = Object.create(null);\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const { isNodeJS } = require(\"../shared/is_node.js\");\n\n  const userAgent =\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n  const isIE = /Trident/.test(userAgent);\n  const isIOSChrome = /CriOS/.test(userAgent);\n\n  // Checks if possible to use URL.createObjectURL()\n  // Support: IE, Chrome on iOS\n  (function checkOnBlobSupport() {\n    // Sometimes IE and Chrome on iOS losing the data created with\n    // createObjectURL(), see issues #3977 and #8081.\n    if (isIE || isIOSChrome) {\n      compatibilityParams.disableCreateObjectURL = true;\n    }\n  })();\n\n  // Support: Node.js\n  (function checkFontFaceAndImage() {\n    // Node.js is missing native support for `@font-face` and `Image`.\n    if (isNodeJS) {\n      compatibilityParams.disableFontFace = true;\n      compatibilityParams.nativeImageDecoderSupport = \"none\";\n    }\n  })();\n}\n\nexports.apiCompatibilityParams = Object.freeze(compatibilityParams);\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://electronjs.org/docs/api/process#processversionselectron\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions[\"nw\"] &&\n  !process.versions[\"electron\"];\n\nexport { isNodeJS };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { getShadingPatternFromIR, TilingPattern } from \"./pattern_helper.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, \"mozCurrentTransform\", {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0],\n          b = m[1],\n          c = m[2],\n          d = m[3],\n          e = m[4],\n          f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc,\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5],\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * -sinValue + m[2] * cosValue,\n        m[1] * -sinValue + m[3] * cosValue,\n        m[4],\n        m[5],\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(\n      id,\n      width,\n      height,\n      trackTransform\n    ) {\n      var canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (var id in this.cache) {\n        var canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width,\n    height = imgData.height;\n  var i,\n    j,\n    j0,\n    width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  // prettier-ignore\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height),\n    pos = 0,\n    ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128,\n      elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p],\n      p0 = p,\n      pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function(c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (var i = 0, ii = outlines.length; i < ii; i++) {\n      var o = outlines[i];\n      c.moveTo(o[0], o[1]);\n      for (var j = 2, jj = o.length; j < jj; j += 2) {\n        c.lineTo(o[j], o[j + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    webGLContext,\n    imageLayer\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData) {\n    if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0,\n      destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xffffffff;\n      var black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          var k = 0;\n          var kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = srcByte & 128 ? white : black;\n            dest32[destPos++] = srcByte & 64 ? white : black;\n            dest32[destPos++] = srcByte & 32 ? white : black;\n            dest32[destPos++] = srcByte & 16 ? white : black;\n            dest32[destPos++] = srcByte & 8 ? white : black;\n            dest32[destPos++] = srcByte & 4 ? white : black;\n            dest32[destPos++] = srcByte & 2 ? white : black;\n            dest32[destPos++] = srcByte & 1 ? white : black;\n          }\n          for (; k < kEnd; k++) {\n            if (mask === 0) {\n              srcByte = src[srcPos++];\n              mask = 128;\n            }\n\n            dest32[destPos++] = srcByte & mask ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--; ) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = elem & mask ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = [\n      \"strokeStyle\",\n      \"fillStyle\",\n      \"fillRule\",\n      \"globalAlpha\",\n      \"lineWidth\",\n      \"lineCap\",\n      \"lineJoin\",\n      \"miterLimit\",\n      \"globalCompositeOperation\",\n      \"font\",\n    ];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = \"#000000\";\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRule = \"nonzero\";\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"butt\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.font = \"10px sans-serif\";\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y =\n        maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n        maskData[i - 2] * 152 + // * 0.59 ....\n        maskData[i - 1] * 28; // * 0.11 ....\n      layerData[i] = transferMap\n        ? (layerData[i] * transferMap[y >> 8]) >> 8\n        : (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap\n  ) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === \"Luminosity\") {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(\n      smask.scaleX,\n      0,\n      0,\n      smask.scaleY,\n      smask.offsetX,\n      smask.offsetY\n    );\n\n    var backdrop = smask.backdrop || null;\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      const composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop,\n        },\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(\n      maskCtx,\n      layerCtx,\n      mask.width,\n      mask.height,\n      smask.subtype,\n      backdrop,\n      smask.transferMap\n    );\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  var LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n    beginDrawing({\n      transform,\n      viewport,\n      transparency = false,\n      background = null,\n    }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        var transparentCanvas = this.cachedCanvases.getCanvas(\n          \"transparent\",\n          width,\n          height,\n          true\n        );\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(\n          this.ctx,\n          this.compositeCtx.mozCurrentTransform\n        );\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n      operatorList,\n      executionStartIdx,\n      continueCallback,\n      stepper\n    ) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations =\n        argsArrayLen - i > EXECUTION_STEPS &&\n        typeof continueCallback === \"function\";\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          for (const depObjId of argsArray[i]) {\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      if (this.current.activeSMask !== null) {\n        this.endSMaskGroup();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value[0], value[1]);\n            break;\n          case \"CA\":\n            this.current.strokeAlpha = state[1];\n            break;\n          case \"ca\":\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case \"BM\":\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case \"SMask\":\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (\n                this.stateStack.length > 0 &&\n                this.stateStack[this.stateStack.length - 1].activeSMask ===\n                  this.current.activeSMask\n              ) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = \"smaskGroupAt\" + this.groupLevel;\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      var groupCtx = this.current.resumeSMaskCtx;\n      var currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (\n        this.current.activeSMask !== null &&\n        (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n            this.current.activeSMask)\n      ) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this._cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this._cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x,\n        y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            this.ctx.moveTo(x, y);\n            this.ctx.lineTo(xw, y);\n            this.ctx.lineTo(xw, yh);\n            this.ctx.lineTo(x, yh);\n            this.ctx.lineTo(x, y);\n            this.ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3],\n              x,\n              y\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(\n              x,\n              y,\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3]\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (\n        strokeColor &&\n        strokeColor.hasOwnProperty(\"type\") &&\n        strokeColor.type === \"Pattern\"\n      ) {\n        // for patterns, we transform to pattern space, calculate\n        // the pattern, call stroke, and restore to user space\n        ctx.save();\n        // The current transform will be replaced while building the pattern,\n        // but the line width needs to be adjusted by the current transform, so\n        // we must scale it. To properly fix this we should be using a pattern\n        // transform instead (see #10955).\n        const transform = ctx.mozCurrentTransform;\n        const scale = Util.singularValueDecompose2dScale(transform)[0];\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n        ctx.lineWidth = Math.max(\n          this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n          this.current.lineWidth * scale\n        );\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        // Prevent drawing too thin lines by enforcing a minimum line width.\n        ctx.lineWidth = Math.max(\n          this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n          this.current.lineWidth\n        );\n        ctx.stroke();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n        warn(\"Invalid font matrix for font \" + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || \"sans-serif\";\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      var italic = fontObj.italic ? \"italic\" : \"normal\";\n      var typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      let browserFontSize = size;\n      if (size < MIN_FONT_SIZE) {\n        browserFontSize = MIN_FONT_SIZE;\n      } else if (size > MAX_FONT_SIZE) {\n        browserFontSize = MAX_FONT_SIZE;\n      }\n      this.current.fontSizeScale = size / browserFontSize;\n\n      this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar(character, x, y, patternTransform) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode =\n        textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(\n        textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n      );\n      const patternFill = current.patternFill && font.data;\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet || patternFill) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace || patternFill) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (patternTransform) {\n          ctx.setTransform.apply(ctx, patternTransform);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fill();\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fillText(character, x, y);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      const { context: ctx } = this.cachedCanvases.getCanvas(\n        \"isFontSubpixelAAEnabled\",\n        10,\n        10\n      );\n      ctx.scale(1.5, 1);\n      ctx.fillText(\"I\", 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return undefined;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var spacingDir = vertical ? 1 : -1;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace &&\n        !current.patternFill;\n\n      ctx.save();\n      let patternTransform;\n      if (current.patternFill) {\n        // TODO: Patterns are not applied correctly to text if a non-embedded\n        // font is used. E.g. issue 8111 and ShowText-ShadingPattern.pdf.\n        ctx.save();\n        const pattern = current.fillColor.getPattern(ctx, this);\n        patternTransform = ctx.mozCurrentTransform;\n        ctx.restore();\n        ctx.fillStyle = pattern;\n      }\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode =\n          current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          this._cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0,\n        i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          var measuredWidth =\n            ((ctx.measureText(character).width * 1000) / fontSize) *\n            fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            var characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX +=\n              (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (glyph.isInFont || font.missingFile) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY, patternTransform);\n            if (accent) {\n              scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n              scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n              this.paintChar(\n                accent.fontChar,\n                scaledAccentX,\n                scaledAccentY,\n                patternTransform\n              );\n            }\n          }\n        }\n\n        var charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var spacingDir = font.vertical ? 1 : -1;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this._cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = (spacingDir * glyph * fontSize) / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(\n      xWidth,\n      yWidth,\n      llx,\n      lly,\n      urx,\n      ury\n    ) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === \"TilingPattern\") {\n        var color = IR[1];\n        var baseTransform =\n          this.baseTransform || this.ctx.mozCurrentTransform.slice();\n        var canvasGraphicsFactory = {\n          createCanvasGraphics: ctx => {\n            return new CanvasGraphics(\n              ctx,\n              this.commonObjs,\n              this.objs,\n              this.canvasFactory,\n              this.webGLContext\n            );\n          },\n        };\n        pattern = new TilingPattern(\n          IR,\n          color,\n          this.ctx,\n          canvasGraphicsFactory,\n          baseTransform\n        );\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      unreachable(\"Should not call beginInlineImage\");\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      unreachable(\"Should not call beginImageData\");\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(\n      matrix,\n      bbox\n    ) {\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (bbox) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info(\"TODO: Support non-isolated groups.\");\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn(\"Knockout groups not supported.\");\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error(\"Bounding box is required.\");\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n        group.bbox,\n        currentCtx.mozCurrentTransform\n      );\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [\n        0,\n        0,\n        currentCtx.canvas.width,\n        currentCtx.canvas.height,\n      ];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1,\n        scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = \"groupAt\" + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n      }\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(\n      rect,\n      transform,\n      matrix\n    ) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n      const domImage = this.processingType3\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!domImage) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.save();\n\n      var ctx = this.ctx;\n      // scale the image to the unit square\n      ctx.scale(1 / w, -1 / h);\n\n      ctx.drawImage(\n        domImage,\n        0,\n        0,\n        domImage.width,\n        domImage.height,\n        0,\n        -h,\n        w,\n        h\n      );\n      if (this.imageLayer) {\n        var currentTransform = ctx.mozCurrentTransformInverse;\n        var position = this.getCanvasPosition(0, 0);\n        this.imageLayer.appendImage({\n          objId,\n          left: position[0],\n          top: position[1],\n          width: w / currentTransform[0],\n          height: h / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      var ctx = this.ctx;\n      var width = img.width,\n        height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat: function CanvasGraphics_paintImageMaskXObjectRepeat(\n      imgData,\n      scaleX,\n      scaleY,\n      positions\n    ) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(\n      images\n    ) {\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width,\n          height = image.height;\n\n        var maskCanvas = this.cachedCanvases.getCanvas(\n          \"maskCanvas\",\n          width,\n          height\n        );\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = \"source-in\";\n\n        maskCtx.fillStyle = isPatternFill\n          ? fillColor.getPattern(maskCtx, this)\n          : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      const imgData = this.processingType3\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(\n      objId,\n      scaleX,\n      scaleY,\n      positions\n    ) {\n      const imgData = this.processingType3\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({\n          transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n          x: 0,\n          y: 0,\n          w: width,\n          h: height,\n        });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(\n      imgData\n    ) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0],\n        b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2],\n        d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // typeof check is needed due to node.js support, see issue #8489\n      if (\n        (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n        !imgData.data\n      ) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width,\n        paintHeight = height;\n      var tmpCanvasId = \"prescale1\";\n      // Vertial or horizontal scaling shall not be more than 2 to not loose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size\n      while (\n        (widthScale > 2 && paintWidth > 1) ||\n        (heightScale > 2 && paintHeight > 1)\n      ) {\n        var newWidth = paintWidth,\n          newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(\n          tmpCanvasId,\n          newWidth,\n          newHeight\n        );\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(\n          imgToPaint,\n          0,\n          0,\n          paintWidth,\n          paintHeight,\n          0,\n          0,\n          newWidth,\n          newHeight\n        );\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n      }\n      ctx.drawImage(\n        imgToPaint,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        -height,\n        width,\n        height\n      );\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(\n      imgData,\n      map\n    ) {\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(\n          tmpCanvas.canvas,\n          entry.x,\n          entry.y,\n          entry.w,\n          entry.h,\n          0,\n          -1,\n          1,\n          1\n        );\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n      this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    paintXObject: function CanvasGraphics_paintXObject() {\n      warn(\"Unsupported 'paintXObject' command.\");\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      // TODO Marked content.\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n      tag,\n      properties\n    ) {\n      // TODO Marked content.\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      // TODO Marked content.\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth(scale) {\n      if (this._cachedGetSinglePixelWidth === null) {\n        const inverse = this.ctx.mozCurrentTransformInverse;\n        // max of the current horizontal and vertical scale\n        this._cachedGetSinglePixelWidth = Math.sqrt(\n          Math.max(\n            inverse[0] * inverse[0] + inverse[1] * inverse[1],\n            inverse[2] * inverse[2] + inverse[3] * inverse[3]\n          )\n        );\n      }\n      return this._cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      var transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5],\n      ];\n    },\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, Util } from \"../shared/util.js\";\n\nvar ShadingIRs = {};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var bbox = raw[2];\n    var colorStops = raw[3];\n    var p0 = raw[4];\n    var p1 = raw[5];\n    var r0 = raw[6];\n    var r1 = raw[7];\n    return {\n      type: \"Pattern\",\n      getPattern: function RadialAxial_getPattern(ctx) {\n        applyBoundingBox(ctx, bbox);\n        var grad;\n        if (type === \"axial\") {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === \"radial\") {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords,\n      colors = context.colors;\n    var bytes = data.data,\n      rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2;\n      p2 = p3;\n      p3 = tmp;\n      tmp = c2;\n      c2 = c3;\n      c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1],\n      c1g = colors[c1 + 1],\n      c1b = colors[c1 + 2];\n    var c2r = colors[c2],\n      c2g = colors[c2 + 1],\n      c2b = colors[c2 + 2];\n    var c3r = colors[c3],\n      c3g = colors[c3 + 1],\n      c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1),\n      maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        let k;\n        if (y < y1) {\n          k = 0;\n        } else if (y1 === y2) {\n          k = 1;\n        } else {\n          k = (y1 - y) / (y1 - y2);\n        }\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        let k;\n        if (y > y3) {\n          k = 1;\n        } else if (y2 === y3) {\n          k = 0;\n        } else {\n          k = (y2 - y) / (y2 - y3);\n        }\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else if (y > y3) {\n        k = 1;\n      } else {\n        k = (y1 - y) / (y1 - y3);\n      }\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        let k = (xa - x) / (xa - xb);\n        if (k < 0) {\n          k = 0;\n        } else if (k > 1) {\n          k = 1;\n        }\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case \"lattice\":\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(\n              data,\n              context,\n              ps[q],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n            drawTriangle(\n              data,\n              context,\n              ps[q + verticesPerRow + 1],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n          }\n        }\n        break;\n      case \"triangles\":\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(\n            data,\n            context,\n            ps[i],\n            ps[i + 1],\n            ps[i + 2],\n            cs[i],\n            cs[i + 1],\n            cs[i + 2]\n          );\n        }\n        break;\n      default:\n        throw new Error(\"illegal figure\");\n    }\n  }\n\n  function createMeshCanvas(\n    bounds,\n    combinesScale,\n    coords,\n    colors,\n    figures,\n    backgroundColor,\n    cachedCanvases,\n    webGLContext\n  ) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    var BORDER_SIZE = 2;\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    var paddedWidth = width + BORDER_SIZE * 2;\n    var paddedHeight = height + BORDER_SIZE * 2;\n\n    var canvas, tmpCanvas, i, ii;\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context,\n      });\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: \"Pattern\",\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        applyBoundingBox(ctx, bbox);\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n          }\n        }\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(\n          bounds,\n          scale,\n          coords,\n          colors,\n          figures,\n          shadingFill ? null : background,\n          owner.cachedCanvases,\n          owner.webGLContext\n        );\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(\n          temporaryPatternCanvas.offsetX,\n          temporaryPatternCanvas.offsetY\n        );\n        ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: \"Pattern\",\n      getPattern: function Dummy_fromIR_getPattern() {\n        return \"hotpink\";\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.type = \"Pattern\";\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info(\"TilingType: \" + tilingType);\n\n      // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n      // described by bbox, and may repeat regularly by shifting the cell by\n      // xstep and ystep.\n      // Because the HTML5 canvas API does not support pattern repetition with\n      // gaps in between, we use the xstep/ystep instead of the bbox's size.\n      //\n      // This has the following consequences (similarly for ystep):\n      //\n      // - If xstep is the same as bbox, then there is no observable difference.\n      //\n      // - If xstep is larger than bbox, then the pattern canvas is partially\n      //   empty: the area bounded by bbox is painted, the outside area is void.\n      //\n      // - If xstep is smaller than bbox, then the pixels between xstep and the\n      //   bbox boundary will be missing. This is INCORRECT behavior.\n      //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n      //   but overlapping cells without common pixels are still valid.\n      //   TODO: Fix the implementation, to allow this scenario to be painted\n      //   correctly.\n\n      var x0 = bbox[0],\n        y0 = bbox[1],\n        x1 = bbox[2],\n        y1 = bbox[3];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform\n      );\n      var combinedScale = [\n        matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1],\n      ];\n\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      var dimx = this.getSizeAndScale(\n        xstep,\n        this.ctx.canvas.width,\n        combinedScale[0]\n      );\n      var dimy = this.getSizeAndScale(\n        ystep,\n        this.ctx.canvas.height,\n        combinedScale[1]\n      );\n\n      var tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        dimx.size,\n        dimy.size,\n        true\n      );\n      var tmpCtx = tmpCanvas.context;\n      var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n      graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n      // transform coordinates to pattern space\n      graphics.transform(1, 0, 0, 1, -x0, -y0);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n\n      this.ctx.transform(1, 0, 0, 1, x0, y0);\n\n      // Rescale canvas so that the ctx.createPattern call generates a pattern\n      // with the desired size.\n      this.ctx.scale(1 / dimx.scale, 1 / dimy.scale);\n      return tmpCanvas.canvas;\n    },\n\n    getSizeAndScale: function TilingPattern_getSizeAndScale(\n      step,\n      realOutputSize,\n      scale\n    ) {\n      // xstep / ystep may be negative -- normalize.\n      step = Math.abs(step);\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use the destination canvas's size if it is bigger than the hard-coded\n      // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n      // whole canvas.\n      var maxSize = Math.max(MAX_PATTERN_SIZE, realOutputSize);\n      var size = Math.ceil(step * scale);\n      if (size >= maxSize) {\n        size = maxSize;\n      } else {\n        scale = size / step;\n      }\n      return { scale, size };\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(\n      graphics,\n      paintType,\n      color\n    ) {\n      const context = graphics.ctx,\n        current = graphics.current;\n      switch (paintType) {\n        case PaintType.COLORED:\n          var ctx = this.ctx;\n          context.fillStyle = ctx.fillStyle;\n          context.strokeStyle = ctx.strokeStyle;\n          current.fillColor = ctx.fillStyle;\n          current.strokeColor = ctx.strokeStyle;\n          break;\n        case PaintType.UNCOLORED:\n          var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n          context.fillStyle = cssColor;\n          context.strokeStyle = cssColor;\n          // Set color needed by image masks (fixes issues 3226 and 8741).\n          current.fillColor = cssColor;\n          current.strokeColor = cssColor;\n          break;\n        default:\n          throw new FormatError(`Unsupported paint type: ${paintType}`);\n      }\n    },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      ctx = this.ctx;\n      // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      return ctx.createPattern(temporaryPatternCanvas, \"repeat\");\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport { getShadingPatternFromIR, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst GlobalWorkerOptions = Object.create(null);\n\n/**\n * Defines global port for worker process. Overrides the `workerSrc` option.\n * @var {Object}\n */\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\n/**\n * A string containing the path and filename of the worker file.\n *\n * NOTE: The `workerSrc` option should always be set, in order to prevent any\n *       issues when using the PDF.js library.\n * @var {string}\n */\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error, prefer-const: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  } else {\n    if (typeof reason !== \"object\" || reason === null) {\n      return reason;\n    }\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const sourceName = this.sourceName;\n        const targetName = data.sourceName;\n        new Promise(function(resolve) {\n          resolve(action(data.data));\n        }).then(\n          function(result) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function(reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this._postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this._postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++;\n    const sourceName = this.sourceName;\n    const targetName = this.targetName;\n    const comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          this._postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const self = this;\n    const action = this.actionHandler[data.action];\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        self._postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function(resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function() {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function(reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].startCall.resolve();\n        } else {\n          this.streamControllers[streamId].startCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].pullCall.resolve();\n        } else {\n          this.streamControllers[streamId].pullCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[streamId]) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (\n          this.streamSinks[streamId].desiredSize <= 0 &&\n          data.desiredSize > 0\n        ) {\n          this.streamSinks[streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[streamId].desiredSize = data.desiredSize;\n        const { onPull } = this.streamSinks[data.streamId];\n        new Promise(function(resolve) {\n          resolve(onPull && onPull());\n        }).then(\n          function() {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function(reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(\n          this.streamControllers[streamId],\n          \"enqueue should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(\n          this.streamControllers[streamId],\n          \"close should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].isClosed = true;\n        this.streamControllers[streamId].controller.close();\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(\n          this.streamControllers[streamId],\n          \"error should have stream controller\"\n        );\n        this.streamControllers[streamId].controller.error(\n          wrapReason(data.reason)\n        );\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].cancelCall.resolve();\n        } else {\n          this.streamControllers[streamId].cancelCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!this.streamSinks[streamId]) {\n          break;\n        }\n        const { onCancel } = this.streamSinks[data.streamId];\n        new Promise(function(resolve) {\n          resolve(onCancel && onCancel(wrapReason(data.reason)));\n        }).then(\n          function() {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function(reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        this.streamSinks[streamId].sinkCapability.reject(\n          wrapReason(data.reason)\n        );\n        this.streamSinks[streamId].isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled(\n      [\n        this.streamControllers[streamId].startCall,\n        this.streamControllers[streamId].pullCall,\n        this.streamControllers[streamId].cancelCall,\n      ].map(function(capability) {\n        return capability && capability.promise;\n      })\n    );\n    delete this.streamControllers[streamId];\n  }\n\n  /**\n   * Sends raw message to the comObj.\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   * @private\n   */\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from \"../shared/util.js\";\nimport { SimpleXMLParser } from \"./xml_parser.js\";\n\nclass Metadata {\n  constructor(data) {\n    assert(typeof data === \"string\", \"Metadata: input is not a string\");\n\n    // Ghostscript may produce invalid metadata, so try to repair that first.\n    data = this._repair(data);\n\n    // Convert the string to an XML document.\n    const parser = new SimpleXMLParser();\n    const xmlDocument = parser.parseFromString(data);\n\n    this._metadataMap = new Map();\n\n    if (xmlDocument) {\n      this._parse(xmlDocument);\n    }\n  }\n\n  _repair(data) {\n    // Start by removing any \"junk\" before the first tag (see issue 10395).\n    return data\n      .replace(/^[^<]+/, \"\")\n      .replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n        const bytes = codes\n          .replace(/\\\\([0-3])([0-7])([0-7])/g, function(code, d1, d2, d3) {\n            return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n          })\n          .replace(/&(amp|apos|gt|lt|quot);/g, function(str, name) {\n            switch (name) {\n              case \"amp\":\n                return \"&\";\n              case \"apos\":\n                return \"'\";\n              case \"gt\":\n                return \">\";\n              case \"lt\":\n                return \"<\";\n              case \"quot\":\n                return '\"';\n            }\n            throw new Error(`_repair: ${name} isn't defined.`);\n          });\n\n        let chars = \"\";\n        for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n          const code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n          if (\n            code >= /* Space = */ 32 &&\n            code < /* Delete = */ 127 &&\n            code !== /* '<' = */ 60 &&\n            code !== /* '>' = */ 62 &&\n            code !== /* '&' = */ 38\n          ) {\n            chars += String.fromCharCode(code);\n          } else {\n            chars += \"&#x\" + (0x10000 + code).toString(16).substring(1) + \";\";\n          }\n        }\n\n        return \">\" + chars;\n      });\n  }\n\n  _parse(xmlDocument) {\n    let rdf = xmlDocument.documentElement;\n\n    if (rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n      // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    const nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n    if (!rdf || nodeName !== \"rdf:rdf\" || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    const children = rdf.childNodes;\n    for (let i = 0, ii = children.length; i < ii; i++) {\n      const desc = children[i];\n      if (desc.nodeName.toLowerCase() !== \"rdf:description\") {\n        continue;\n      }\n\n      for (let j = 0, jj = desc.childNodes.length; j < jj; j++) {\n        if (desc.childNodes[j].nodeName.toLowerCase() !== \"#text\") {\n          const entry = desc.childNodes[j];\n          const name = entry.nodeName.toLowerCase();\n\n          this._metadataMap.set(name, entry.textContent.trim());\n        }\n      }\n    }\n  }\n\n  get(name) {\n    return this._metadataMap.has(name) ? this._metadataMap.get(name) : null;\n  }\n\n  getAll() {\n    const obj = Object.create(null);\n    for (const [key, value] of this._metadataMap) {\n      obj[key] = value;\n    }\n    return obj;\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The code for XMLParserBase copied from\n// https://github.com/mozilla/shumway/blob/16451d8836fa85f4b16eeda8b4bda2fa9e2b22b0/src/avm2/natives/xml.ts\n\nconst XMLParserErrorCode = {\n  NoError: 0,\n  EndOfDocument: -1,\n  UnterminatedCdat: -2,\n  UnterminatedXmlDeclaration: -3,\n  UnterminatedDoctypeDeclaration: -4,\n  UnterminatedComment: -5,\n  MalformedElement: -6,\n  OutOfMemory: -7,\n  UnterminatedAttributeValue: -8,\n  UnterminatedElement: -9,\n  ElementNeverBegun: -10,\n};\n\nfunction isWhitespace(s, index) {\n  const ch = s[index];\n  return ch === \" \" || ch === \"\\n\" || ch === \"\\r\" || ch === \"\\t\";\n}\n\nfunction isWhitespaceString(s) {\n  for (let i = 0, ii = s.length; i < ii; i++) {\n    if (!isWhitespace(s, i)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass XMLParserBase {\n  _resolveEntities(s) {\n    return s.replace(/&([^;]+);/g, (all, entity) => {\n      if (entity.substring(0, 2) === \"#x\") {\n        return String.fromCharCode(parseInt(entity.substring(2), 16));\n      } else if (entity.substring(0, 1) === \"#\") {\n        return String.fromCharCode(parseInt(entity.substring(1), 10));\n      }\n      switch (entity) {\n        case \"lt\":\n          return \"<\";\n        case \"gt\":\n          return \">\";\n        case \"amp\":\n          return \"&\";\n        case \"quot\":\n          return '\"';\n      }\n      return this.onResolveEntity(entity);\n    });\n  }\n\n  _parseContent(s, start) {\n    const attributes = [];\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    while (\n      pos < s.length &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\" &&\n      s[pos] !== \"?\"\n    ) {\n      skipWs();\n      let attrName = \"\",\n        attrValue = \"\";\n      while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \"=\") {\n        attrName += s[pos];\n        ++pos;\n      }\n      skipWs();\n      if (s[pos] !== \"=\") {\n        return null;\n      }\n      ++pos;\n      skipWs();\n      const attrEndChar = s[pos];\n      if (attrEndChar !== '\"' && attrEndChar !== \"'\") {\n        return null;\n      }\n      const attrEndIndex = s.indexOf(attrEndChar, ++pos);\n      if (attrEndIndex < 0) {\n        return null;\n      }\n      attrValue = s.substring(pos, attrEndIndex);\n      attributes.push({\n        name: attrName,\n        value: this._resolveEntities(attrValue),\n      });\n      pos = attrEndIndex + 1;\n      skipWs();\n    }\n    return {\n      name,\n      attributes,\n      parsed: pos - start,\n    };\n  }\n\n  _parseProcessingInstruction(s, start) {\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    const attrStart = pos;\n    while (pos < s.length && (s[pos] !== \"?\" || s[pos + 1] !== \">\")) {\n      ++pos;\n    }\n    const value = s.substring(attrStart, pos);\n    return {\n      name,\n      value,\n      parsed: pos - start,\n    };\n  }\n\n  parseXml(s) {\n    let i = 0;\n    while (i < s.length) {\n      const ch = s[i];\n      let j = i;\n      if (ch === \"<\") {\n        ++j;\n        const ch2 = s[j];\n        let q;\n        switch (ch2) {\n          case \"/\":\n            ++j;\n            q = s.indexOf(\">\", j);\n            if (q < 0) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onEndElement(s.substring(j, q));\n            j = q + 1;\n            break;\n          case \"?\":\n            ++j;\n            const pi = this._parseProcessingInstruction(s, j);\n            if (s.substring(j + pi.parsed, j + pi.parsed + 2) !== \"?>\") {\n              this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);\n              return;\n            }\n            this.onPi(pi.name, pi.value);\n            j += pi.parsed + 2;\n            break;\n          case \"!\":\n            if (s.substring(j + 1, j + 3) === \"--\") {\n              q = s.indexOf(\"-->\", j + 3);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedComment);\n                return;\n              }\n              this.onComment(s.substring(j + 3, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"[CDATA[\") {\n              q = s.indexOf(\"]]>\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedCdat);\n                return;\n              }\n              this.onCdata(s.substring(j + 8, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"DOCTYPE\") {\n              const q2 = s.indexOf(\"[\", j + 8);\n              let complexDoctype = false;\n              q = s.indexOf(\">\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                return;\n              }\n              if (q2 > 0 && q > q2) {\n                q = s.indexOf(\"]>\", j + 8);\n                if (q < 0) {\n                  this.onError(\n                    XMLParserErrorCode.UnterminatedDoctypeDeclaration\n                  );\n                  return;\n                }\n                complexDoctype = true;\n              }\n              const doctypeContent = s.substring(\n                j + 8,\n                q + (complexDoctype ? 1 : 0)\n              );\n              this.onDoctype(doctypeContent);\n              j = q + (complexDoctype ? 2 : 1);\n            } else {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            break;\n          default:\n            const content = this._parseContent(s, j);\n            if (content === null) {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            let isClosed = false;\n            if (\n              s.substring(j + content.parsed, j + content.parsed + 2) === \"/>\"\n            ) {\n              isClosed = true;\n            } else if (\n              s.substring(j + content.parsed, j + content.parsed + 1) !== \">\"\n            ) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onBeginElement(content.name, content.attributes, isClosed);\n            j += content.parsed + (isClosed ? 2 : 1);\n            break;\n        }\n      } else {\n        while (j < s.length && s[j] !== \"<\") {\n          j++;\n        }\n        const text = s.substring(i, j);\n        this.onText(this._resolveEntities(text));\n      }\n      i = j;\n    }\n  }\n\n  onResolveEntity(name) {\n    return `&${name};`;\n  }\n\n  onPi(name, value) {}\n\n  onComment(text) {}\n\n  onCdata(text) {}\n\n  onDoctype(doctypeContent) {}\n\n  onText(text) {}\n\n  onBeginElement(name, attributes, isEmpty) {}\n\n  onEndElement(name) {}\n\n  onError(code) {}\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n\n    Object.defineProperty(this, \"parentNode\", { value: null, writable: true });\n  }\n\n  get firstChild() {\n    return this.childNodes && this.childNodes[0];\n  }\n\n  get nextSibling() {\n    const childNodes = this.parentNode.childNodes;\n    if (!childNodes) {\n      return undefined;\n    }\n    const index = childNodes.indexOf(this);\n    if (index === -1) {\n      return undefined;\n    }\n    return childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || \"\";\n    }\n    return this.childNodes\n      .map(function(child) {\n        return child.textContent;\n      })\n      .join(\"\");\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n}\n\nclass SimpleXMLParser extends XMLParserBase {\n  constructor() {\n    super();\n    this._currentFragment = null;\n    this._stack = null;\n    this._errorCode = XMLParserErrorCode.NoError;\n  }\n\n  parseFromString(data) {\n    this._currentFragment = [];\n    this._stack = [];\n    this._errorCode = XMLParserErrorCode.NoError;\n\n    this.parseXml(data);\n\n    if (this._errorCode !== XMLParserErrorCode.NoError) {\n      return undefined; // return undefined on error\n    }\n\n    // We should only have one root.\n    const [documentElement] = this._currentFragment;\n    if (!documentElement) {\n      return undefined; // Return undefined if no root was found.\n    }\n    return { documentElement };\n  }\n\n  onResolveEntity(name) {\n    switch (name) {\n      case \"apos\":\n        return \"'\";\n    }\n    return super.onResolveEntity(name);\n  }\n\n  onText(text) {\n    if (isWhitespaceString(text)) {\n      return;\n    }\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onCdata(text) {\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onBeginElement(name, attributes, isEmpty) {\n    const node = new SimpleDOMNode(name);\n    node.childNodes = [];\n    this._currentFragment.push(node);\n    if (isEmpty) {\n      return;\n    }\n    this._stack.push(this._currentFragment);\n    this._currentFragment = node.childNodes;\n  }\n\n  onEndElement(name) {\n    this._currentFragment = this._stack.pop() || [];\n    const lastElement = this._currentFragment[this._currentFragment.length - 1];\n    if (!lastElement) {\n      return;\n    }\n    for (let i = 0, ii = lastElement.childNodes.length; i < ii; i++) {\n      lastElement.childNodes[i].parentNode = lastElement;\n    }\n  }\n\n  onError(code) {\n    this._errorCode = code;\n  }\n}\n\nexport { SimpleXMLParser };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(pdfDataRangeTransport);\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n\n    const initialData = params.initialData;\n    if (initialData && initialData.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function(rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found);\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader && firstReader.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader && fullReader.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(!this._fullRequestReader);\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeReaders.slice(0);\n    readers.forEach(function(rangeReader) {\n      rangeReader.cancel(reason);\n    });\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      this._requests.forEach(function(requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true });\n      });\n      this._requests = [];\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { shadow } from \"../shared/util.js\";\n\nclass WebGLContext {\n  constructor({ enable = false }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n    return shadow(this, \"isEnabled\", enabled);\n  }\n\n  composeSMask({ layer, mask, properties }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({ width, height, backgroundColor, figures, context }) {\n    return WebGLUtils.drawFigures(\n      width,\n      height,\n      backgroundColor,\n      figures,\n      context\n    );\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n}\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error(\"Error during shader compilation: \" + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error(\"Error during program linking: \" + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement(\"canvas\");\n    currentGL = currentCanvas.getContext(\"webgl\", {\n      premultipliedalpha: false,\n    });\n  }\n\n  var smaskVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             \";\n\n  var smaskFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             \";\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.backdropLocation = gl.getUniformLocation(program, \"u_backdrop\");\n    cache.subtypeLocation = gl.getUniformLocation(program, \"u_subtype\");\n\n    var texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n    var texLayerLocation = gl.getUniformLocation(program, \"u_image\");\n    var texMaskLocation = gl.getUniformLocation(program, \"u_mask\");\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width,\n      height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(\n        cache.resolutionLocation,\n        properties.backdrop[0],\n        properties.backdrop[1],\n        properties.backdrop[2],\n        1\n      );\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(\n      cache.subtypeLocation,\n      properties.subtype === \"Luminosity\" ? 1 : 0\n    );\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             \";\n\n  var figuresFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             \";\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.scaleLocation = gl.getUniformLocation(program, \"u_scale\");\n    cache.offsetLocation = gl.getUniformLocation(program, \"u_offset\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.colorLocation = gl.getAttribLocation(program, \"a_color\");\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case \"lattice\":\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case \"triangles\":\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords,\n      colorsMap = context.colors;\n    var pIndex = 0,\n      cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i],\n        ps = figure.coords,\n        cs = figure.colors;\n      switch (figure.type) {\n        case \"lattice\":\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case \"triangles\":\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(\n        backgroundColor[0] / 255,\n        backgroundColor[1] / 255,\n        backgroundColor[2] / 255,\n        1.0\n      );\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(\n      cache.colorLocation,\n      3,\n      gl.UNSIGNED_BYTE,\n      false,\n      0,\n      0\n    );\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) {}\n      return false;\n    },\n\n    composeSMask,\n\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache && smaskCache.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n      if (figuresCache && figuresCache.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n      smaskCache = null;\n      figuresCache = null;\n    },\n  };\n})();\n\nexport { WebGLContext };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {TextContent} [textContent] - Text content to render (the object\n *   is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {PageViewport} viewport - The target viewport to properly\n *   layout the text runs.\n * @property {Array} [textDivs] - HTML elements that are correspond to the\n *   text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array} [textContentItemsStr] - Strings that correspond to the\n *   `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\nvar renderTextLayer = (function renderTextLayerClosure() {\n  var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  var NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    var textDiv = document.createElement(\"span\");\n    var textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    var tx = Util.transform(task._viewport.transform, geom.transform);\n    var angle = Math.atan2(tx[1], tx[0]);\n    var style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    var fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n    var fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    textDiv.style.left = `${left}px`;\n    textDiv.style.top = `${top}px`;\n    textDiv.style.fontSize = `${fontHeight}px`;\n    textDiv.style.fontFamily = style.fontFamily;\n\n    textDiv.textContent = geom.str;\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (task._fontInspectorEnabled) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    if (geom.str.length > 1) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      var angleCos = 1,\n        angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      var divWidth =\n        (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n      var divHeight = fontHeight;\n\n      var m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    var textDivs = task._textDivs;\n    var capability = task._capability;\n    var textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (var i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function expand(task) {\n    var bounds = task._bounds;\n    var viewport = task._viewport;\n\n    var expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (var i = 0; i < expanded.length; i++) {\n      var div = bounds[i].div;\n      var divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      var e = expanded[i],\n        b = bounds[i];\n      var m = b.m,\n        c = m[0],\n        s = m[1];\n      // Finding intersections with expanded box.\n      var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      var ts = new Float64Array(64);\n      points.forEach(function(p, i) {\n        var t = Util.applyTransform(p, m);\n        ts[i + 0] = c && (e.left - t[0]) / c;\n        ts[i + 4] = s && (e.top - t[1]) / s;\n        ts[i + 8] = c && (e.right - t[0]) / c;\n        ts[i + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[i + 16] = s && (e.left - t[0]) / -s;\n        ts[i + 20] = c && (e.top - t[1]) / c;\n        ts[i + 24] = s && (e.right - t[0]) / -s;\n        ts[i + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[i + 32] = c && (e.left - t[0]) / -c;\n        ts[i + 36] = s && (e.top - t[1]) / -s;\n        ts[i + 40] = c && (e.right - t[0]) / -c;\n        ts[i + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[i + 48] = s && (e.left - t[0]) / s;\n        ts[i + 52] = c && (e.top - t[1]) / -c;\n        ts[i + 56] = s && (e.right - t[0]) / s;\n        ts[i + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      var findPositiveMin = function(ts, offset, count) {\n        var result = 0;\n        for (var i = 0; i < count; i++) {\n          var t = ts[offset++];\n          if (t > 0) {\n            result = result ? Math.min(t, result) : t;\n          }\n        }\n        return result;\n      };\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    var bounds = boxes.map(function(box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    var expanded = new Array(boxes.length);\n    bounds.forEach(function(b) {\n      var i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function(box, i) {\n      var e = expanded[i],\n        b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function(b) {\n      var i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function(a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    var fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    var horizon = [\n      {\n        start: -Infinity,\n        end: Infinity,\n        boundary: fakeBoundary,\n      },\n    ];\n\n    bounds.forEach(function(boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      var i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      var j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      var horizonPart, affectedBoundary;\n      var q,\n        k,\n        maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        var xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected boundary\n          // placed on top of the current one.\n          xNew =\n            affectedBoundary.index > boundary.index\n              ? affectedBoundary.x1New\n              : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      var changedHorizon = [],\n        lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        var useBoundary =\n          affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        var used = false;\n        for (\n          k = i - 1;\n          !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n          k--\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (\n          k = j + 1;\n          !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n          k++\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(\n        horizon,\n        [i, j - i + 1].concat(changedHorizon)\n      );\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function(horizonPart) {\n      var affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!(\n      globalThis.FontInspector && globalThis.FontInspector.enabled\n    );\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        /* Avoid \"Uncaught promise\" messages in the console. */\n      });\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      this._canceled = true;\n      if (this._reader) {\n        this._reader.cancel(new AbortException(\"TextLayer task cancelled.\"));\n        this._reader = null;\n      }\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      const textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let transform = \"\";\n      if (textDivProperties.canvasWidth !== 0) {\n        const { fontSize, fontFamily } = textDiv.style;\n\n        // Only build font string and set to context if different from last.\n        if (\n          fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily\n        ) {\n          this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n          this._layoutTextLastFontSize = fontSize;\n          this._layoutTextLastFontFamily = fontFamily;\n        }\n        // Only measure the width for multi-char text divs, see `appendText`.\n        const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n        if (width > 0) {\n          textDivProperties.scale = textDivProperties.canvasWidth / width;\n          transform = `scaleX(${textDivProperties.scale})`;\n        }\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n      }\n      if (transform.length > 0) {\n        if (this._enhanceTextSelection) {\n          textDivProperties.originalTransform = transform;\n        }\n        textDiv.style.transform = transform;\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      this._container.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      const capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      const canvas = document.createElement(\"canvas\");\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n      ) {\n        canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n      if (this._textContent) {\n        const textItems = this._textContent.items;\n        const textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        const pump = () => {\n          this._reader.read().then(({ value, done }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Object.assign(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error(\n          'Neither \"textContent\" nor \"textContentStream\"' +\n            \" parameters specified.\"\n        );\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) {\n          // Render right away\n          render(this);\n        } else {\n          // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n      const transformBuf = [],\n        paddingBuf = [];\n\n      for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n        const div = this._textDivs[i];\n        const divProps = this._textDivProperties.get(div);\n\n        if (divProps.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          transformBuf.length = 0;\n          paddingBuf.length = 0;\n\n          if (divProps.originalTransform) {\n            transformBuf.push(divProps.originalTransform);\n          }\n          if (divProps.paddingTop > 0) {\n            paddingBuf.push(`${divProps.paddingTop}px`);\n            transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingRight > 0) {\n            paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingBottom > 0) {\n            paddingBuf.push(`${divProps.paddingBottom}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingLeft > 0) {\n            paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n            transformBuf.push(\n              `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n            );\n          } else {\n            paddingBuf.push(0);\n          }\n\n          div.style.padding = paddingBuf.join(\" \");\n          if (transformBuf.length) {\n            div.style.transform = transformBuf.join(\" \");\n          }\n        } else {\n          div.style.padding = null;\n          div.style.transform = divProps.originalTransform;\n        }\n      }\n    },\n  };\n\n  /**\n   * Starts rendering of the text layer.\n   *\n   * @param {TextLayerRenderParameters} renderParameters\n   * @returns {TextLayerRenderTask}\n   */\n  function renderTextLayer(renderParameters) {\n    var task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport { renderTextLayer };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  addLinkAttributes,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  LinkTarget,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n * @property {Object} svgFactory\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(parameters, isRenderable = false, ignoreBorder = false) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `-${rect[0]}px -${rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = Util.makeCssRgb(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLSectionElement} container\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(container, trigger, data) {\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      modificationDate: data.modificationDate,\n      contents: data.contents,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the link annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LinkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"linkAnnotation\";\n\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      addLinkAttributes(link, {\n        url: data.url,\n        target: data.newWindow\n          ? LinkTarget.BLANK\n          : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled,\n      });\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else {\n      this._bindLink(link, data.dest);\n    }\n\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.navigateTo(destination);\n      }\n      return false;\n    };\n    if (destination) {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  /**\n   * Render the widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof WidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderInteractiveForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = this.data.fieldValue;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", this.data.fieldValue);\n      }\n\n      element.disabled = this.data.readOnly;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n\n      let font = null;\n      if (\n        this.data.fontRefName &&\n        this.page.commonObjs.has(this.data.fontRefName)\n      ) {\n        font = this.page.commonObjs.get(this.data.fontRefName);\n      }\n      this._setTextStyle(element, font);\n    }\n\n    if (this.data.textAlignment !== null) {\n      element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @param {Object} font\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element, font) {\n    // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n    const style = element.style;\n    style.fontSize = `${this.data.fontSize}px`;\n    style.direction = this.data.fontDirection < 0 ? \"rtl\" : \"ltr\";\n\n    if (!font) {\n      return;\n    }\n\n    let bold = \"normal\";\n    if (font.black) {\n      bold = \"900\";\n    } else if (font.bold) {\n      bold = \"bold\";\n    }\n    style.fontWeight = bold;\n    style.fontStyle = font.italic ? \"italic\" : \"normal\";\n\n    // Use a reasonable default font if the font doesn't specify a fallback.\n    const fontFamily = font.loadedName ? `\"${font.loadedName}\", ` : \"\";\n    const fallbackName = font.fallbackName || \"Helvetica, sans-serif\";\n    style.fontFamily = fontFamily + fallbackName;\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the checkbox widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof CheckboxWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    element.disabled = this.data.readOnly;\n    element.type = \"checkbox\";\n    if (this.data.fieldValue && this.data.fieldValue !== \"Off\") {\n      element.setAttribute(\"checked\", true);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the radio button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof RadioButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n\n    const element = document.createElement(\"input\");\n    element.disabled = this.data.readOnly;\n    element.type = \"radio\";\n    element.name = this.data.fieldName;\n    if (this.data.fieldValue === this.data.buttonValue) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  /**\n   * Render the push button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof PushButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the choice widget annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof ChoiceWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n\n    const selectElement = document.createElement(\"select\");\n    selectElement.disabled = this.data.readOnly;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.fieldValue.includes(option.displayValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the popup annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PopupAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElement = this.layer.querySelector(selector);\n    if (!parentElement) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: parentElement,\n      color: this.data.color,\n      title: this.data.title,\n      modificationDate: this.data.modificationDate,\n      contents: this.data.contents,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const parentLeft = parseFloat(parentElement.style.left);\n    const parentWidth = parseFloat(parentElement.style.width);\n    this.container.style.transformOrigin = `-${parentLeft + parentWidth}px -${\n      parentElement.style.top\n    }`;\n    this.container.style.left = `${parentLeft + parentWidth}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.modificationDate = parameters.modificationDate;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  /**\n   * Render the popup's HTML element.\n   *\n   * @public\n   * @memberof PopupElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.setAttribute(\"hidden\", true);\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.textContent = this.title;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contents);\n    popup.appendChild(contents);\n\n    // Attach the event listeners to the trigger element.\n    this.trigger.addEventListener(\"click\", this._toggle.bind(this));\n    this.trigger.addEventListener(\"mouseover\", this._show.bind(this, false));\n    this.trigger.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {string} contents\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents(contents) {\n    const p = document.createElement(\"p\");\n    const lines = contents.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hasAttribute(\"hidden\")) {\n      this.hideElement.removeAttribute(\"hidden\");\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hasAttribute(\"hidden\") && !this.pinned) {\n      this.hideElement.setAttribute(\"hidden\", true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the free text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof FreeTextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the line annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the square annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquareAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the circle annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CircleAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the polyline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PolylineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(this.container, polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the caret annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CaretAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the ink annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof InkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(this.container, polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the highlight annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof HighlightAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"highlightAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the underline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof UnderlineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"underlineAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the squiggly annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquigglyAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squigglyAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the strikeout annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StrikeOutAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"strikeoutAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the stamp annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StampAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, /* isRenderable = */ true);\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    if (this.linkService.eventBus) {\n      this.linkService.eventBus.dispatch(\"fileattachmentannotation\", {\n        source: this,\n        id: stringToPDFString(filename),\n        filename,\n        content,\n      });\n    }\n  }\n\n  /**\n   * Render the file attachment annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof FileAttachmentAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(this.container, trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    if (!this.downloadManager) {\n      warn(\"Download cannot be started due to unavailable download manager\");\n      return;\n    }\n    this.downloadManager.downloadData(this.content, this.filename, \"\");\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderInteractiveForms: parameters.renderInteractiveForms || false,\n        svgFactory: new DOMSVGFactory(),\n      });\n      if (element.isRenderable) {\n        parameters.div.appendChild(element.render());\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    for (const data of parameters.annotations) {\n      const element = parameters.div.querySelector(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (element) {\n        element.style.transform = `matrix(${parameters.viewport.transform.join(\n          \",\"\n        )})`;\n      }\n    }\n    parameters.div.removeAttribute(\"hidden\");\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n/* eslint no-var: error */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\nlet SVGGraphics = function() {\n  throw new Error(\"Not implemented: SVGGraphics\");\n};\n\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function() {\n    const PNG_HEADER = new Uint8Array([\n      0x89,\n      0x50,\n      0x4e,\n      0x47,\n      0x0d,\n      0x0a,\n      0x1a,\n      0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  SVGGraphics = class SVGGraphics {\n    constructor(commonObjs, objs, forceDataSchema) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintJpegXObject:\n            this.paintJpegXObject(args[0], args[1], args[2]);\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n\n        const width = glyph.width;\n        const character = glyph.fontChar;\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const charWidth = width * widthAdvanceScale + spacing * fontDirection;\n\n        if (!glyph.isInFont && !font.missingFile) {\n          x += charWidth;\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n          continue;\n        }\n        current.xcoords.push(current.x + x);\n        current.tspan.textContent += character;\n        x += charWidth;\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        fontObj.data &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement &&\n        current.txtElement.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeCssRgb(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeCssRgb(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0] = Util.applyTransform([x0, y0], matrix);\n      const [tx1, ty1] = Util.applyTransform([x1, y1], matrix);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeCssRgb(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function(prev) {\n          prev.clipGroup = null;\n        });\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function(value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintJpegXObject(objId, w, h) {\n      const imgObj = this.objs.get(objId);\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgObj.src);\n      imgEl.setAttributeNS(null, \"width\", pf(w));\n      imgEl.setAttributeNS(null, \"height\", pf(h));\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-h));\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / w)} ${pf(-1 / h)})`\n      );\n\n      this._ensureTransformGroup().appendChild(imgEl);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function(reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(url, headers) {\n  return {\n    protocol: url.protocol,\n    auth: url.auth,\n    host: url.hostname,\n    port: url.port,\n    path: url.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength,\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders[\"Range\"] = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (/\\.pdf$/i.test(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    \"Unexpected server response (\" +\n      status +\n      ') while retrieving PDF \"' +\n      url +\n      '\".',\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const bytes = Array.from(value, function(ch) {\n          return ch.charCodeAt(0) & 0xff;\n        });\n        value = decoder.decode(new Uint8Array(bytes));\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDisposition) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDisposition)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function(_, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function(_, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args) {\n    this.url = url;\n    args = args || {};\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = {\n      xhr,\n    });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function(evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.onProgress) {\n      pendingRequest.onProgress(evt);\n    }\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  hasPendingRequests() {\n    for (const xhrId in this.pendingRequests) {\n      return true;\n    }\n    return false;\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortAllRequests() {\n    for (const xhrId in this.pendingRequests) {\n      this.abortRequest(xhrId | 0);\n    }\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function(reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const {\n      allowRangeRequests,\n      suggestedLength,\n    } = validateRangeRequestCapabilities({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange,\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(args) {\n    if (args) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: args.chunk, done: false });\n      } else {\n        this._cachedChunks.push(args.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  _onError(status) {\n    const url = this._url;\n    const exception = createResponseStatusError(status, url);\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  }\n\n  _onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._close();\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function(requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController && abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function(reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const {\n          allowRangeRequests,\n          suggestedLength,\n        } = validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: this._stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    ).then(response => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    });\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleLinkService = exports.PDFLinkService = void 0;\n\nvar _ui_utils = require(\"./ui_utils.js\");\n\nclass PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    externalLinkEnabled = true,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this.externalLinkEnabled = externalLinkEnabled;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n    this._pagesRefCache = null;\n  }\n\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n    this._pagesRefCache = Object.create(null);\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  }\n\n  set page(value) {\n    this.pdfViewer.currentPageNumber = value;\n  }\n\n  get rotation() {\n    return this.pdfViewer.pagesRotation;\n  }\n\n  set rotation(value) {\n    this.pdfViewer.pagesRotation = value;\n  }\n\n  navigateTo(dest) {\n    const goToDestination = ({\n      namedDest,\n      explicitDest\n    }) => {\n      const destRef = explicitDest[0];\n      let pageNumber;\n\n      if (destRef instanceof Object) {\n        pageNumber = this._cachedPageNumber(destRef);\n\n        if (pageNumber === null) {\n          this.pdfDocument.getPageIndex(destRef).then(pageIndex => {\n            this.cachePageRef(pageIndex + 1, destRef);\n            goToDestination({\n              namedDest,\n              explicitDest\n            });\n          }).catch(() => {\n            console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` + `a valid page reference, for dest=\"${dest}\".`);\n          });\n          return;\n        }\n      } else if (Number.isInteger(destRef)) {\n        pageNumber = destRef + 1;\n      } else {\n        console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` + `a valid destination reference, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n        console.error(`PDFLinkService.navigateTo: \"${pageNumber}\" is not ` + `a valid page number, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (this.pdfHistory) {\n        this.pdfHistory.pushCurrentPosition();\n        this.pdfHistory.push({\n          namedDest,\n          explicitDest,\n          pageNumber\n        });\n      }\n\n      this.pdfViewer.scrollPageIntoView({\n        pageNumber,\n        destArray: explicitDest,\n        ignoreDestinationZoom: this._ignoreDestinationZoom\n      });\n    };\n\n    new Promise((resolve, reject) => {\n      if (typeof dest === \"string\") {\n        this.pdfDocument.getDestination(dest).then(destArray => {\n          resolve({\n            namedDest: dest,\n            explicitDest: destArray\n          });\n        });\n        return;\n      }\n\n      resolve({\n        namedDest: \"\",\n        explicitDest: dest\n      });\n    }).then(data => {\n      if (!Array.isArray(data.explicitDest)) {\n        console.error(`PDFLinkService.navigateTo: \"${data.explicitDest}\" is` + ` not a valid destination array, for dest=\"${dest}\".`);\n        return;\n      }\n\n      goToDestination(data);\n    });\n  }\n\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      return this.getAnchorUrl(\"#\" + escape(dest));\n    }\n\n    if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      return this.getAnchorUrl(\"#\" + escape(str));\n    }\n\n    return this.getAnchorUrl(\"\");\n  }\n\n  getAnchorUrl(anchor) {\n    return (this.baseUrl || \"\") + anchor;\n  }\n\n  setHash(hash) {\n    let pageNumber, dest;\n\n    if (hash.includes(\"=\")) {\n      const params = (0, _ui_utils.parseQueryString)(hash);\n\n      if (\"search\" in params) {\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: params[\"search\"].replace(/\"/g, \"\"),\n          phraseSearch: params[\"phrase\"] === \"true\"\n        });\n      }\n\n      if (\"nameddest\" in params) {\n        this.navigateTo(params.nameddest);\n        return;\n      }\n\n      if (\"page\" in params) {\n        pageNumber = params.page | 0 || 1;\n      }\n\n      if (\"zoom\" in params) {\n        const zoomArgs = params.zoom.split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else {\n          if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n            dest = [null, {\n              name: zoomArg\n            }];\n          } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n          } else if (zoomArg === \"FitR\") {\n            if (zoomArgs.length !== 5) {\n              console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n            } else {\n              dest = [null, {\n                name: zoomArg\n              }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n            }\n          } else {\n            console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not ` + \"a valid zoom value.\");\n          }\n        }\n      }\n\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n\n      if (\"pagemode\" in params) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.pagemode\n        });\n      }\n    } else {\n      dest = unescape(hash);\n\n      try {\n        dest = JSON.parse(dest);\n\n        if (!Array.isArray(dest)) {\n          dest = dest.toString();\n        }\n      } catch (ex) {}\n\n      if (typeof dest === \"string\" || isValidExplicitDestination(dest)) {\n        this.navigateTo(dest);\n        return;\n      }\n\n      console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not ` + \"a valid destination.\");\n    }\n  }\n\n  executeNamedAction(action) {\n    switch (action) {\n      case \"GoBack\":\n        if (this.pdfHistory) {\n          this.pdfHistory.back();\n        }\n\n        break;\n\n      case \"GoForward\":\n        if (this.pdfHistory) {\n          this.pdfHistory.forward();\n        }\n\n        break;\n\n      case \"NextPage\":\n        if (this.page < this.pagesCount) {\n          this.page++;\n        }\n\n        break;\n\n      case \"PrevPage\":\n        if (this.page > 1) {\n          this.page--;\n        }\n\n        break;\n\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n\n      default:\n        break;\n    }\n\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n\n  cachePageRef(pageNum, pageRef) {\n    if (!pageRef) {\n      return;\n    }\n\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    this._pagesRefCache[refStr] = pageNum;\n  }\n\n  _cachedPageNumber(pageRef) {\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    return this._pagesRefCache && this._pagesRefCache[refStr] || null;\n  }\n\n  isPageVisible(pageNumber) {\n    return this.pdfViewer.isPageVisible(pageNumber);\n  }\n\n}\n\nexports.PDFLinkService = PDFLinkService;\n\nfunction isValidExplicitDestination(dest) {\n  if (!Array.isArray(dest)) {\n    return false;\n  }\n\n  const destLength = dest.length;\n\n  if (destLength < 2) {\n    return false;\n  }\n\n  const page = dest[0];\n\n  if (!(typeof page === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n    return false;\n  }\n\n  const zoom = dest[1];\n\n  if (!(typeof zoom === \"object\" && typeof zoom.name === \"string\")) {\n    return false;\n  }\n\n  let allowNull = true;\n\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (destLength !== 5) {\n        return false;\n      }\n\n      break;\n\n    case \"Fit\":\n    case \"FitB\":\n      return destLength === 2;\n\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (destLength !== 3) {\n        return false;\n      }\n\n      break;\n\n    case \"FitR\":\n      if (destLength !== 6) {\n        return false;\n      }\n\n      allowNull = false;\n      break;\n\n    default:\n      return false;\n  }\n\n  for (let i = 2; i < destLength; i++) {\n    const param = dest[i];\n\n    if (!(typeof param === \"number\" || allowNull && param === null)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nclass SimpleLinkService {\n  constructor() {\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n    this.externalLinkEnabled = true;\n    this._ignoreDestinationZoom = false;\n  }\n\n  get pagesCount() {\n    return 0;\n  }\n\n  get page() {\n    return 0;\n  }\n\n  set page(value) {}\n\n  get rotation() {\n    return 0;\n  }\n\n  set rotation(value) {}\n\n  navigateTo(dest) {}\n\n  getDestinationHash(dest) {\n    return \"#\";\n  }\n\n  getAnchorUrl(hash) {\n    return \"#\";\n  }\n\n  setHash(hash) {}\n\n  executeNamedAction(action) {}\n\n  cachePageRef(pageNum, pageRef) {}\n\n  isPageVisible(pageNumber) {\n    return true;\n  }\n\n}\n\nexports.SimpleLinkService = SimpleLinkService;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  const details = Object.create(null);\n\n  if (args && args.length > 0) {\n    const obj = args[0];\n\n    for (const key in obj) {\n      const value = obj[key];\n\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n\n        continue;\n      }\n\n      details[key] = value;\n    }\n  }\n\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\n\nclass EventBus {\n  constructor({\n    dispatchToDOM = false\n  } = {}) {\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      if (this._dispatchToDOM) {\n        const args = Array.prototype.slice.call(arguments, 1);\n        dispatchDOMEvent(eventName, args);\n      }\n\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n\n    if (this._dispatchToDOM) {\n      dispatchDOMEvent(eventName, args);\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\nlet globalEventBus = null;\n\nfunction getGlobalEventBus(dispatchToDOM = false) {\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=2)}([function(e,t,r){\"use strict\";e.exports=r(3)},function(e,t,r){e.exports=r(5)()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"default\",function(){return d});var n=r(0),o=r.n(n),i=r(1),u=r.n(i);function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}var p={customClass:u.a.string,selectionHandler:u.a.func},d=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),n=this,(r=!(o=l(t).call(this,e))||\"object\"!==a(o)&&\"function\"!=typeof o?s(n):o).state={text:e.text,isDirty:!1,selection:\"\",anchorNode:\"?\",focusNode:\"?\",selectionStart:\"?\",selectionEnd:\"?\",first:\"\",middle:\"\",last:\"\"},r.onMouseUpHandler=r.onMouseUpHandler.bind(s(s(r))),r}var r,i,u;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n[\"Component\"]),r=t,(i=[{key:\"onMouseUpHandler\",value:function(e){e.preventDefault();var t=window.getSelection&&window.getSelection(),r=t.toString(),n=t.anchorNode,o=t.focusNode,i=t.anchorOffset,u=t.focusOffset,a=n.compareDocumentPosition(o),c=!1;a===n.DOCUMENT_POSITION_FOLLOWING?c=!0:0===a&&(c=u-i>0);var l=c?i:u;c?(n.parentNode.getAttribute(\"data-order\")&&\"middle\"===n.parentNode.getAttribute(\"data-order\")&&(l+=this.state.selectionStart),n.parentNode.getAttribute(\"data-order\")&&\"last\"===n.parentNode.getAttribute(\"data-order\")&&(l+=this.state.selectionEnd)):(o.parentNode.getAttribute(\"data-order\")&&\"middle\"===o.parentNode.getAttribute(\"data-order\")&&(l+=this.state.selectionStart),o.parentNode.getAttribute(\"data-order\")&&\"last\"===o.parentNode.getAttribute(\"data-order\")&&(l+=this.state.selectionEnd));var f=l+r.length,s=this.state.text.slice(0,l),p=this.state.text.slice(l,f),d=this.state.text.slice(f);this.setState({selection:r,anchorNode:n,focusNode:o,selectionStart:l,selectionEnd:f,first:s,middle:p,last:d}),this.props.selectionHandler&&this.props.selectionHandler({selection:r,selectionStart:l,selectionEnd:f})}},{key:\"render\",value:function(){return this.state.selection?o.a.createElement(\"span\",{onMouseUp:this.onMouseUpHandler},o.a.createElement(\"span\",{\"data-order\":\"first\"},this.state.first),o.a.createElement(\"span\",{\"data-order\":\"middle\",className:this.props.customClass||\"default\"},this.state.middle),o.a.createElement(\"span\",{\"data-order\":\"last\"},this.state.last)):o.a.createElement(\"span\",{onMouseUp:this.onMouseUpHandler},this.state.text)}}])&&c(r.prototype,i),u&&c(r,u),t}();d.propTypes=p},function(e,t,r){\"use strict\";\n/** @license React v16.7.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var n=r(4),o=\"function\"==typeof Symbol&&Symbol.for,i=o?Symbol.for(\"react.element\"):60103,u=o?Symbol.for(\"react.portal\"):60106,a=o?Symbol.for(\"react.fragment\"):60107,c=o?Symbol.for(\"react.strict_mode\"):60108,l=o?Symbol.for(\"react.profiler\"):60114,f=o?Symbol.for(\"react.provider\"):60109,s=o?Symbol.for(\"react.context\"):60110,p=o?Symbol.for(\"react.concurrent_mode\"):60111,d=o?Symbol.for(\"react.forward_ref\"):60112,y=o?Symbol.for(\"react.suspense\"):60113,b=o?Symbol.for(\"react.memo\"):60115,h=o?Symbol.for(\"react.lazy\"):60116,m=\"function\"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,r=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=0;n<t;n++)r+=\"&args[]=\"+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,i,u,a){if(!e){if(e=void 0,void 0===t)e=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var c=[r,n,o,i,u,a],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name=\"Invariant Violation\"}throw e.framesToPop=1,e}}(!1,\"Minified React error #\"+e+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",r)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O={};function _(e,t,r){this.props=e,this.context=t,this.refs=O,this.updater=r||g}function S(){}function j(e,t,r){this.props=e,this.context=t,this.refs=O,this.updater=r||g}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){\"object\"!=typeof e&&\"function\"!=typeof e&&null!=e&&v(\"85\"),this.updater.enqueueSetState(this,e,t,\"setState\")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")},S.prototype=_.prototype;var w=j.prototype=new S;w.constructor=j,n(w,_.prototype),w.isPureReactComponent=!0;var P={current:null,currentDispatcher:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n=void 0,o={},u=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(u=\"\"+t.key),t)x.call(t,n)&&!E.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===o[n]&&(o[n]=c[n]);return{$$typeof:i,type:e,key:u,ref:a,props:o,_owner:P.current}}function N(e){return\"object\"==typeof e&&null!==e&&e.$$typeof===i}var C=/\\/+/g,$=[];function T(e,t,r,n){if($.length){var o=$.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>$.length&&$.push(e)}function A(e,t,r){return null==e?0:function e(t,r,n,o){var a=typeof t;\"undefined\"!==a&&\"boolean\"!==a||(t=null);var c=!1;if(null===t)c=!0;else switch(a){case\"string\":case\"number\":c=!0;break;case\"object\":switch(t.$$typeof){case i:case u:c=!0}}if(c)return n(o,t,\"\"===r?\".\"+M(t,0):r),1;if(c=0,r=\"\"===r?\".\":r+\":\",Array.isArray(t))for(var l=0;l<t.length;l++){var f=r+M(a=t[l],l);c+=e(a,f,n,o)}else if(f=null===t||\"object\"!=typeof t?null:\"function\"==typeof(f=m&&t[m]||t[\"@@iterator\"])?f:null,\"function\"==typeof f)for(t=f.call(t),l=0;!(a=t.next()).done;)c+=e(a=a.value,f=r+M(a,l++),n,o);else\"object\"===a&&v(\"31\",\"[object Object]\"==(n=\"\"+t)?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":n,\"\");return c}(e,\"\",t,r)}function M(e,t){return\"object\"==typeof e&&null!==e&&null!=e.key?function(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,n,r,function(e){return e}):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?\"\":(\"\"+e.key).replace(C,\"$&/\")+\"/\")+r)),n.push(e))}function D(e,t,r,n,o){var i=\"\";null!=r&&(i=(\"\"+r).replace(C,\"$&/\")+\"/\"),A(e,I,t=T(t,i,n,o)),R(t)}var H={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return D(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;A(e,U,t=T(null,null,t,r)),R(t)},count:function(e){return A(e,function(){return null},null)},toArray:function(e){var t=[];return D(e,t,null,function(e){return e}),t},only:function(e){return N(e)||v(\"143\"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:j,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},Fragment:a,StrictMode:c,Suspense:y,createElement:k,cloneElement:function(e,t,r){null==e&&v(\"267\",e);var o=void 0,u=n({},e.props),a=e.key,c=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,l=P.current),void 0!==t.key&&(a=\"\"+t.key);var f=void 0;for(o in e.type&&e.type.defaultProps&&(f=e.type.defaultProps),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(u[o]=void 0===t[o]&&void 0!==f?f[o]:t[o])}if(1===(o=arguments.length-2))u.children=r;else if(1<o){f=Array(o);for(var s=0;s<o;s++)f[s]=arguments[s+2];u.children=f}return{$$typeof:i,type:e.type,key:a,ref:c,props:u,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:N,version:\"16.7.0\",unstable_ConcurrentMode:p,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:n}},q={default:H},F=q&&H||q;e.exports=F.default||F},function(e,t,r){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t[\"_\"+String.fromCharCode(r)]=r;if(\"0123456789\"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(\"\"))return!1;var n={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(e){n[e]=e}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},n)).join(\"\")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,u,a=function(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))o.call(r,l)&&(a[l]=r[l]);if(n){u=n(r);for(var f=0;f<u.length;f++)i.call(r,u[f])&&(a[u[f]]=r[u[f]])}}return a}},function(e,t,r){\"use strict\";var n=r(6);function o(){}e.exports=function(){function e(e,t,r,o,i,u){if(u!==n){var a=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw a.name=\"Invariant Violation\",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},function(e,t,r){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"}]);","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Loads a PDF document. Passes it to all children.\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport mergeClassNames from 'merge-class-names';\nimport pdfjs from 'pdfjs-dist/build/pdf';\nimport DocumentContext from './DocumentContext';\nimport Message from './Message';\nimport LinkService from './LinkService';\nimport PasswordResponses from './PasswordResponses';\nimport eventBus from './eventBus';\nimport { cancelRunningTask, dataURItoUint8Array, displayCORSWarning, errorOnDev, isArrayBuffer, isBlob, isBrowser, isDataURI, isFile, loadFromFile, warnOnDev } from './shared/utils';\nimport { eventProps, isClassName } from './shared/propTypes';\nvar PDFDataRangeTransport = pdfjs.PDFDataRangeTransport;\n\nvar Document = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Document, _PureComponent);\n\n  var _super = _createSuper(Document);\n\n  function Document() {\n    var _this;\n\n    _classCallCheck(this, Document);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      pdf: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"viewer\", {\n      scrollPageIntoView: function scrollPageIntoView(_ref) {\n        var pageNumber = _ref.pageNumber;\n        // Handling jumping to internal links target\n        var onItemClick = _this.props.onItemClick; // First, check if custom handling of onItemClick was provided\n\n        if (onItemClick) {\n          onItemClick({\n            pageNumber: pageNumber\n          });\n          return;\n        } // If not, try to look for target page within the <Document>.\n\n\n        var page = _this.pages[pageNumber - 1];\n\n        if (page) {\n          // Scroll to the page automatically\n          page.scrollIntoView();\n          return;\n        }\n\n        warnOnDev(\"Warning: An internal link leading to page \".concat(pageNumber, \" was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"linkService\", new LinkService({\n      eventBus: eventBus\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"loadDocument\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var source, _this$props, options, onLoadProgress, onPassword, cancellable, pdf;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              source = null;\n              _context.prev = 1;\n              _context.next = 4;\n              return _this.findDocumentSource();\n\n            case 4:\n              source = _context.sent;\n\n              _this.onSourceSuccess();\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onSourceError(_context.t0);\n\n            case 11:\n              if (source) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              _this.setState(function (prevState) {\n                if (!prevState.pdf) {\n                  return null;\n                }\n\n                return {\n                  pdf: null\n                };\n              });\n\n              _this$props = _this.props, options = _this$props.options, onLoadProgress = _this$props.onLoadProgress, onPassword = _this$props.onPassword;\n              _context.prev = 15;\n              // If another loading is in progress, let's cancel it\n              cancelRunningTask(_this.runningTask);\n              _this.loadingTask = pdfjs.getDocument(_objectSpread({}, source, {}, options));\n              _this.loadingTask.onPassword = onPassword;\n\n              if (onLoadProgress) {\n                _this.loadingTask.onProgress = onLoadProgress;\n              }\n\n              cancellable = makeCancellable(_this.loadingTask.promise);\n              _this.runningTask = cancellable;\n              _context.next = 24;\n              return cancellable.promise;\n\n            case 24:\n              pdf = _context.sent;\n\n              _this.setState(function (prevState) {\n                if (prevState.pdf && prevState.pdf.fingerprint === pdf.fingerprint) {\n                  return null;\n                }\n\n                return {\n                  pdf: pdf\n                };\n              }, _this.onLoadSuccess);\n\n              _context.next = 31;\n              break;\n\n            case 28:\n              _context.prev = 28;\n              _context.t1 = _context[\"catch\"](15);\n\n              _this.onLoadError(_context.t1);\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8], [15, 28]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"setupLinkService\", function () {\n      _this.linkService.setViewer(_this.viewer);\n\n      var documentInstance = _assertThisInitialized(_this);\n\n      Object.defineProperty(_this.linkService, 'externalLinkTarget', {\n        get: function get() {\n          var externalLinkTarget = documentInstance.props.externalLinkTarget;\n\n          switch (externalLinkTarget) {\n            case '_self':\n              return 1;\n\n            case '_blank':\n              return 2;\n\n            case '_parent':\n              return 3;\n\n            case '_top':\n              return 4;\n\n            default:\n              return 0;\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceSuccess\", function () {\n      var onSourceSuccess = _this.props.onSourceSuccess;\n      if (onSourceSuccess) onSourceSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceError\", function (error) {\n      errorOnDev(error);\n      var onSourceError = _this.props.onSourceError;\n      if (onSourceError) onSourceError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var pdf = _this.state.pdf;\n      if (onLoadSuccess) onLoadSuccess(pdf);\n      _this.pages = new Array(pdf.numPages);\n\n      _this.linkService.setDocument(pdf);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        pdf: false\n      });\n\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findDocumentSource\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var file, fileUint8Array, url, otherParams, _fileUint8Array;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              file = _this.props.file;\n\n              if (file) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", null);\n\n            case 3:\n              if (!(typeof file === 'string')) {\n                _context2.next = 9;\n                break;\n              }\n\n              if (!isDataURI(file)) {\n                _context2.next = 7;\n                break;\n              }\n\n              fileUint8Array = dataURItoUint8Array(file);\n              return _context2.abrupt(\"return\", {\n                data: fileUint8Array\n              });\n\n            case 7:\n              displayCORSWarning();\n              return _context2.abrupt(\"return\", {\n                url: file\n              });\n\n            case 9:\n              if (!(file instanceof PDFDataRangeTransport)) {\n                _context2.next = 11;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                range: file\n              });\n\n            case 11:\n              if (!isArrayBuffer(file)) {\n                _context2.next = 13;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                data: file\n              });\n\n            case 13:\n              if (!isBrowser) {\n                _context2.next = 19;\n                break;\n              }\n\n              if (!(isBlob(file) || isFile(file))) {\n                _context2.next = 19;\n                break;\n              }\n\n              _context2.next = 17;\n              return loadFromFile(file);\n\n            case 17:\n              _context2.t0 = _context2.sent;\n              return _context2.abrupt(\"return\", {\n                data: _context2.t0\n              });\n\n            case 19:\n              if (!(_typeof(file) !== 'object')) {\n                _context2.next = 21;\n                break;\n              }\n\n              throw new Error('Invalid parameter in file, need either Uint8Array, string or a parameter object');\n\n            case 21:\n              if (!(!file.url && !file.data && !file.range)) {\n                _context2.next = 23;\n                break;\n              }\n\n              throw new Error('Invalid parameter object: need either .data, .range or .url');\n\n            case 23:\n              if (!(typeof file.url === 'string')) {\n                _context2.next = 29;\n                break;\n              }\n\n              if (!isDataURI(file.url)) {\n                _context2.next = 28;\n                break;\n              }\n\n              url = file.url, otherParams = _objectWithoutProperties(file, [\"url\"]);\n              _fileUint8Array = dataURItoUint8Array(url);\n              return _context2.abrupt(\"return\", _objectSpread({\n                data: _fileUint8Array\n              }, otherParams));\n\n            case 28:\n              displayCORSWarning();\n\n            case 29:\n              return _context2.abrupt(\"return\", file);\n\n            case 30:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"registerPage\", function (pageIndex, ref) {\n      _this.pages[pageIndex] = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unregisterPage\", function (pageIndex) {\n      delete _this.pages[pageIndex];\n    });\n\n    return _this;\n  }\n\n  _createClass(Document, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadDocument();\n      this.setupLinkService();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var file = this.props.file;\n\n      if (file !== prevProps.file) {\n        this.loadDocument();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.loadingTask) this.loadingTask.destroy();\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(DocumentContext.Provider, {\n        value: this.childContext\n      }, children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var file = this.props.file;\n      var pdf = this.state.pdf;\n\n      if (!file) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          inputRef = _this$props2.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Document', className),\n        ref: inputRef\n      }, this.eventProps), this.renderContent());\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var linkService = this.linkService,\n          registerPage = this.registerPage,\n          unregisterPage = this.unregisterPage;\n      var _this$props3 = this.props,\n          renderMode = _this$props3.renderMode,\n          rotate = _this$props3.rotate;\n      var pdf = this.state.pdf;\n      return {\n        linkService: linkService,\n        pdf: pdf,\n        registerPage: registerPage,\n        renderMode: renderMode,\n        rotate: rotate,\n        unregisterPage: unregisterPage\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      // eslint-disable-next-line react/destructuring-assignment\n      return makeEventProps(this.props, function () {\n        return _this2.state.pdf;\n      });\n    }\n    /**\n     * Called when a document source is resolved correctly\n     */\n\n  }]);\n\n  return Document;\n}(PureComponent);\n\nexport { Document as default };\nDocument.defaultProps = {\n  error: 'Failed to load PDF file.',\n  loading: 'Loading PDF',\n  noData: 'No PDF file specified.',\n  onPassword: function onPassword(callback, reason) {\n    switch (reason) {\n      case PasswordResponses.NEED_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var password = prompt('Enter the password to open this PDF file.');\n          callback(password);\n          break;\n        }\n\n      case PasswordResponses.INCORRECT_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var _password = prompt('Invalid password. Please try again.');\n\n          callback(_password);\n          break;\n        }\n\n      default:\n    }\n  }\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nDocument.propTypes = _objectSpread({}, eventProps, {\n  children: PropTypes.node,\n  className: isClassName,\n  error: isFunctionOrNode,\n  file: isFile,\n  inputRef: PropTypes.func,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadProgress: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onPassword: PropTypes.func,\n  onSourceError: PropTypes.func,\n  onSourceSuccess: PropTypes.func,\n  rotate: PropTypes.number\n});","import { createContext } from 'react';\nexport default createContext(null);","import { PDFLinkService } from 'pdfjs-dist/lib/web/pdf_link_service';\nexport default PDFLinkService;","import React from 'react';\nimport PropTypes from 'prop-types';\nexport default function Message(_ref) {\n  var children = _ref.children,\n      type = _ref.type;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-pdf__message react-pdf__message--\".concat(type)\n  }, children);\n}\nMessage.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.oneOf(['error', 'loading', 'no-data']).isRequired\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport OutlineItem from './OutlineItem';\nimport { cancelRunningTask, errorOnDev } from './shared/utils';\nimport { eventProps, isClassName, isPdf } from './shared/propTypes';\nexport var OutlineInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineInternal);\n\n  function OutlineInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      outline: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadOutline\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var pdf, cancellable, outline;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              _this.setState(function (prevState) {\n                if (!prevState.outline) {\n                  return null;\n                }\n\n                return {\n                  outline: null\n                };\n              });\n\n              _context.prev = 2;\n              cancellable = makeCancellable(pdf.getOutline());\n              _this.runningTask = cancellable;\n              _context.next = 7;\n              return cancellable.promise;\n\n            case 7:\n              outline = _context.sent;\n\n              _this.setState({\n                outline: outline\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var outline = _this.state.outline;\n      if (onLoadSuccess) onLoadSuccess(outline);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        outline: false\n      });\n\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemClick\", function (_ref2) {\n      var pageIndex = _ref2.pageIndex,\n          pageNumber = _ref2.pageNumber;\n      var onItemClick = _this.props.onItemClick;\n\n      if (onItemClick) {\n        onItemClick({\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(OutlineInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load an outline, but no document was specified.');\n      }\n\n      this.loadOutline();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf) {\n        this.loadOutline();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      var outline = this.state.outline;\n      return /*#__PURE__*/React.createElement(\"ul\", null, outline.map(function (item, itemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItem, {\n          key: typeof item.destination === 'string' ? item.destination : itemIndex,\n          item: item\n        });\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pdf = this.props.pdf;\n      var outline = this.state.outline;\n\n      if (!pdf || !outline) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          inputRef = _this$props.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Outline', className),\n        ref: inputRef\n      }, this.eventProps), /*#__PURE__*/React.createElement(OutlineContext.Provider, {\n        value: this.childContext\n      }, this.renderOutline()));\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      return {\n        onClick: this.onItemClick\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      // eslint-disable-next-line react/destructuring-assignment\n      return makeEventProps(this.props, function () {\n        return _this2.state.outline;\n      });\n    }\n    /**\n     * Called when an outline is read successfully\n     */\n\n  }]);\n\n  return OutlineInternal;\n}(PureComponent);\nOutlineInternal.propTypes = _objectSpread({\n  className: isClassName,\n  inputRef: PropTypes.func,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  pdf: isPdf\n}, eventProps);\n\nfunction Outline(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(OutlineInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default React.forwardRef(Outline);","import { createContext } from 'react';\nexport default createContext(null);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport Ref from './Ref';\nimport { isDefined } from './shared/utils';\nimport { isPdf } from './shared/propTypes';\nexport var OutlineItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineItemInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineItemInternal);\n\n  function OutlineItemInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getDestination\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, item, pdf;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, item = _this$props.item, pdf = _this$props.pdf;\n\n              if (isDefined(_this.destination)) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!(typeof item.dest === 'string')) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 5;\n              return pdf.getDestination(item.dest);\n\n            case 5:\n              _this.destination = _context.sent;\n              _context.next = 9;\n              break;\n\n            case 8:\n              _this.destination = item.dest;\n\n            case 9:\n              return _context.abrupt(\"return\", _this.destination);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageIndex\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var pdf, destination, _destination, ref;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              if (isDefined(_this.pageIndex)) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 4;\n              return _this.getDestination();\n\n            case 4:\n              destination = _context2.sent;\n\n              if (!destination) {\n                _context2.next = 10;\n                break;\n              }\n\n              _destination = _slicedToArray(destination, 1), ref = _destination[0];\n              _context2.next = 9;\n              return pdf.getPageIndex(new Ref(ref));\n\n            case 9:\n              _this.pageIndex = _context2.sent;\n\n            case 10:\n              return _context2.abrupt(\"return\", _this.pageIndex);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageNumber\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (isDefined(_this.pageNumber)) {\n                _context3.next = 5;\n                break;\n              }\n\n              _context3.next = 3;\n              return _this.getPageIndex();\n\n            case 3:\n              _context3.t0 = _context3.sent;\n              _this.pageNumber = _context3.t0 + 1;\n\n            case 5:\n              return _context3.abrupt(\"return\", _this.pageNumber);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event) {\n        var onClick, pageIndex, pageNumber;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                onClick = _this.props.onClick;\n                event.preventDefault();\n                _context4.next = 4;\n                return _this.getPageIndex();\n\n              case 4:\n                pageIndex = _context4.sent;\n                _context4.next = 7;\n                return _this.getPageNumber();\n\n              case 7:\n                pageNumber = _context4.sent;\n\n                if (onClick) {\n                  onClick({\n                    pageIndex: pageIndex,\n                    pageNumber: pageNumber\n                  });\n                }\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(OutlineItemInternal, [{\n    key: \"renderSubitems\",\n    value: function renderSubitems() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          otherProps = _objectWithoutProperties(_this$props2, [\"item\"]);\n\n      if (!item.items || !item.items.length) {\n        return null;\n      }\n\n      var subitems = item.items;\n      return /*#__PURE__*/React.createElement(\"ul\", null, subitems.map(function (subitem, subitemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({\n          key: typeof subitem.destination === 'string' ? subitem.destination : subitemIndex,\n          item: subitem\n        }, otherProps));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var item = this.props.item;\n      /* eslint-disable jsx-a11y/anchor-is-valid */\n\n      return /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.onClick\n      }, item.title), this.renderSubitems());\n    }\n  }]);\n\n  return OutlineItemInternal;\n}(PureComponent);\nvar isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItemInternal.propTypes = {\n  item: PropTypes.shape({\n    dest: isDestination,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      dest: isDestination,\n      title: PropTypes.string\n    })),\n    title: PropTypes.string\n  }).isRequired,\n  onClick: PropTypes.func,\n  pdf: isPdf.isRequired\n};\n\nvar OutlineItem = function OutlineItem(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(OutlineContext.Consumer, null, function (outlineContext) {\n      return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({}, documentContext, outlineContext, props));\n    });\n  });\n};\n\nexport default OutlineItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport DocumentContext from './DocumentContext';\nimport PageContext from './PageContext';\nimport Message from './Message';\nimport PageCanvas from './Page/PageCanvas';\nimport PageSVG from './Page/PageSVG';\nimport TextLayer from './Page/TextLayer';\nimport AnnotationLayer from './Page/AnnotationLayer';\nimport { cancelRunningTask, errorOnDev, isProvided, makePageCallback } from './shared/utils';\nimport { eventProps, isClassName, isPageIndex, isPageNumber, isPdf, isRenderMode, isRotate } from './shared/propTypes';\nvar defaultScale = 1.0;\nexport var PageInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageInternal, _PureComponent);\n\n  var _super = _createSuper(PageInternal);\n\n  function PageInternal() {\n    var _this;\n\n    _classCallCheck(this, PageInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      page: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var _this$props = _this.props,\n          onLoadSuccess = _this$props.onLoadSuccess,\n          registerPage = _this$props.registerPage;\n      var page = _this.state.page;\n      if (onLoadSuccess) onLoadSuccess(makePageCallback(page, _this.scale));\n      if (registerPage) registerPage(_this.pageIndex, _this.ref);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadPage\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var pdf, pageNumber, cancellable, page;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n              pageNumber = _this.getPageNumber();\n\n              if (pageNumber) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _this.setState(function (prevState) {\n                if (!prevState.page) {\n                  return null;\n                }\n\n                return {\n                  page: null\n                };\n              });\n\n              _context.prev = 5;\n              cancellable = makeCancellable(pdf.getPage(pageNumber));\n              _this.runningTask = cancellable;\n              _context.next = 10;\n              return cancellable.promise;\n\n            case 10:\n              page = _context.sent;\n\n              _this.setState({\n                page: page\n              }, _this.onLoadSuccess);\n\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](5);\n\n              _this.setState({\n                page: false\n              });\n\n              _this.onLoadError(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 14]]);\n    })));\n\n    return _this;\n  }\n\n  _createClass(PageInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load a page, but no document was specified.');\n      }\n\n      this.loadPage();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf || this.getPageNumber() !== this.getPageNumber(prevProps)) {\n        var unregisterPage = this.props.unregisterPage;\n        if (unregisterPage) unregisterPage(this.getPageIndex(prevProps));\n        this.loadPage();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var unregisterPage = this.props.unregisterPage;\n      if (unregisterPage) unregisterPage(this.pageIndex);\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"getPageIndex\",\n    value: function getPageIndex() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber - 1;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getPageNumber\",\n    value: function getPageNumber() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex + 1;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderMainLayer\",\n    value: function renderMainLayer() {\n      var renderMode = this.props.renderMode;\n\n      switch (renderMode) {\n        case 'none':\n          return null;\n\n        case 'svg':\n          return /*#__PURE__*/React.createElement(PageSVG, {\n            key: \"\".concat(this.pageKeyNoScale, \"_svg\")\n          });\n\n        case 'canvas':\n        default:\n          return /*#__PURE__*/React.createElement(PageCanvas, {\n            key: \"\".concat(this.pageKey, \"_canvas\")\n          });\n      }\n    }\n  }, {\n    key: \"renderTextLayer\",\n    value: function renderTextLayer() {\n      var renderTextLayer = this.props.renderTextLayer;\n\n      if (!renderTextLayer) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(TextLayer, {\n        key: \"\".concat(this.pageKey, \"_text\")\n      });\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var renderAnnotationLayer = this.props.renderAnnotationLayer;\n\n      if (!renderAnnotationLayer) {\n        return null;\n      }\n      /**\n       * As of now, PDF.js 2.0.943 returns warnings on unimplemented annotations in SVG mode.\n       * Therefore, as a fallback, we render \"traditional\" AnnotationLayer component.\n       */\n\n\n      return /*#__PURE__*/React.createElement(AnnotationLayer, {\n        key: \"\".concat(this.pageKey, \"_annotations\")\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(PageContext.Provider, {\n        value: this.childContext\n      }, this.renderMainLayer(), this.renderTextLayer(), this.renderAnnotationLayer(), children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var pageNumber = this.pageNumber;\n      var pdf = this.props.pdf;\n      var page = this.state.page;\n\n      if (!pageNumber) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null || page === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false || page === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var pageNumber = this.pageNumber;\n      var className = this.props.className;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Page', className),\n        \"data-page-number\": pageNumber,\n        ref: function ref(_ref2) {\n          var inputRef = _this2.props.inputRef;\n\n          if (inputRef) {\n            inputRef(_ref2);\n          }\n\n          _this2.ref = _ref2;\n        },\n        style: {\n          position: 'relative'\n        }\n      }, this.eventProps), this.renderContent());\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return {};\n      }\n\n      var _this$props2 = this.props,\n          customTextRenderer = _this$props2.customTextRenderer,\n          onGetAnnotationsError = _this$props2.onGetAnnotationsError,\n          onGetAnnotationsSuccess = _this$props2.onGetAnnotationsSuccess,\n          onGetTextError = _this$props2.onGetTextError,\n          onGetTextSuccess = _this$props2.onGetTextSuccess,\n          onRenderAnnotationLayerError = _this$props2.onRenderAnnotationLayerError,\n          onRenderAnnotationLayerSuccess = _this$props2.onRenderAnnotationLayerSuccess,\n          onRenderError = _this$props2.onRenderError,\n          onRenderSuccess = _this$props2.onRenderSuccess,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      return {\n        customTextRenderer: customTextRenderer,\n        onGetAnnotationsError: onGetAnnotationsError,\n        onGetAnnotationsSuccess: onGetAnnotationsSuccess,\n        onGetTextError: onGetTextError,\n        onGetTextSuccess: onGetTextSuccess,\n        onRenderAnnotationLayerError: onRenderAnnotationLayerError,\n        onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccess,\n        onRenderError: onRenderError,\n        onRenderSuccess: onRenderSuccess,\n        page: page,\n        renderInteractiveForms: renderInteractiveForms,\n        rotate: this.rotate,\n        scale: this.scale\n      };\n    }\n    /**\n     * Called when a page is loaded successfully\n     */\n\n  }, {\n    key: \"pageIndex\",\n    get: function get() {\n      return this.getPageIndex();\n    }\n  }, {\n    key: \"pageNumber\",\n    get: function get() {\n      return this.getPageNumber();\n    }\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var rotate = this.props.rotate;\n\n      if (isProvided(rotate)) {\n        return rotate;\n      }\n\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      return page.rotate;\n    }\n  }, {\n    key: \"scale\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      var _this$props3 = this.props,\n          scale = _this$props3.scale,\n          width = _this$props3.width,\n          height = _this$props3.height;\n      var rotate = this.rotate; // Be default, we'll render page at 100% * scale width.\n\n      var pageScale = 1; // Passing scale explicitly null would cause the page not to render\n\n      var scaleWithDefault = scale === null ? defaultScale : scale; // If width/height is defined, calculate the scale of the page so it could be of desired width.\n\n      if (width || height) {\n        var viewport = page.getViewport({\n          scale: 1,\n          rotation: rotate\n        });\n        pageScale = width ? width / viewport.width : height / viewport.height;\n      }\n\n      return scaleWithDefault * pageScale;\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this3 = this;\n\n      return makeEventProps(this.props, function () {\n        var page = _this3.state.page;\n\n        if (!page) {\n          return page;\n        }\n\n        return makePageCallback(page, _this3.scale);\n      });\n    }\n  }, {\n    key: \"pageKey\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"@\").concat(this.scale, \"/\").concat(this.rotate);\n    }\n  }, {\n    key: \"pageKeyNoScale\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"/\").concat(this.rotate);\n    }\n  }]);\n\n  return PageInternal;\n}(PureComponent);\nPageInternal.defaultProps = {\n  error: 'Failed to load the page.',\n  loading: 'Loading page',\n  noData: 'No page specified.',\n  renderAnnotationLayer: true,\n  renderInteractiveForms: false,\n  renderMode: 'canvas',\n  renderTextLayer: true,\n  scale: defaultScale\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nPageInternal.propTypes = _objectSpread({}, eventProps, {\n  children: PropTypes.node,\n  className: isClassName,\n  customTextRenderer: PropTypes.func,\n  error: isFunctionOrNode,\n  height: PropTypes.number,\n  inputRef: PropTypes.func,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  pageIndex: isPageIndex,\n  pageNumber: isPageNumber,\n  pdf: isPdf,\n  registerPage: PropTypes.func,\n  renderAnnotationLayer: PropTypes.bool,\n  renderInteractiveForms: PropTypes.bool,\n  renderMode: isRenderMode,\n  renderTextLayer: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  unregisterPage: PropTypes.func,\n  width: PropTypes.number\n}); // forwardRef render functions do not support propTypes\n\n/* eslint-disable react/prop-types */\n\nfunction Page(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default React.forwardRef(Page);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport pdfjs from 'pdfjs-dist/build/pdf';\nimport makeCancellable from 'make-cancellable-promise';\nimport DocumentContext from '../DocumentContext';\nimport PageContext from '../PageContext';\nimport { cancelRunningTask, errorOnDev } from '../shared/utils';\nimport { isLinkService, isPage, isRotate } from '../shared/propTypes';\nexport var AnnotationLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(AnnotationLayerInternal, _PureComponent);\n\n  var _super = _createSuper(AnnotationLayerInternal);\n\n  function AnnotationLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, AnnotationLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      annotations: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAnnotations\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var page, cancellable, annotations;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _this.props.page;\n              _context.prev = 1;\n              cancellable = makeCancellable(page.getAnnotations());\n              _this.runningTask = cancellable;\n              _context.next = 6;\n              return cancellable.promise;\n\n            case 6:\n              annotations = _context.sent;\n\n              _this.setState({\n                annotations: annotations\n              }, _this.onLoadSuccess);\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onLoadError(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetAnnotationsSuccess = _this.props.onGetAnnotationsSuccess;\n      var annotations = _this.state.annotations;\n      if (onGetAnnotationsSuccess) onGetAnnotationsSuccess(annotations);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        annotations: false\n      });\n\n      errorOnDev(error);\n      var onGetAnnotationsError = _this.props.onGetAnnotationsError;\n      if (onGetAnnotationsError) onGetAnnotationsError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      var onRenderAnnotationLayerSuccess = _this.props.onRenderAnnotationLayerSuccess;\n      if (onRenderAnnotationLayerSuccess) onRenderAnnotationLayerSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      errorOnDev(error);\n      var onRenderAnnotationLayerError = _this.props.onRenderAnnotationLayerError;\n      if (onRenderAnnotationLayerError) onRenderAnnotationLayerError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(AnnotationLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n\n      if (!page) {\n        throw new Error('Attempted to load page annotations, but no page was specified.');\n      }\n\n      this.loadAnnotations();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          page = _this$props.page,\n          renderInteractiveForms = _this$props.renderInteractiveForms;\n\n      if (prevProps.page && page !== prevProps.page || renderInteractiveForms !== prevProps.renderInteractiveForms) {\n        this.loadAnnotations();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var annotations = this.state.annotations;\n\n      if (!annotations) {\n        return;\n      }\n\n      var _this$props2 = this.props,\n          linkService = _this$props2.linkService,\n          page = _this$props2.page,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      var viewport = this.viewport.clone({\n        dontFlip: true\n      });\n      var parameters = {\n        annotations: annotations,\n        div: this.annotationLayer,\n        linkService: linkService,\n        page: page,\n        renderInteractiveForms: renderInteractiveForms,\n        viewport: viewport\n      };\n      this.annotationLayer.innerHTML = '';\n\n      try {\n        pdfjs.AnnotationLayer.render(parameters);\n        this.onRenderSuccess();\n      } catch (error) {\n        this.onRenderError(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__annotations annotationLayer\",\n        ref: function ref(_ref2) {\n          _this2.annotationLayer = _ref2;\n        }\n      }, this.renderAnnotationLayer());\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          rotate = _this$props3.rotate,\n          scale = _this$props3.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return AnnotationLayerInternal;\n}(PureComponent);\nAnnotationLayerInternal.propTypes = {\n  linkService: isLinkService.isRequired,\n  onGetAnnotationsError: PropTypes.func,\n  onGetAnnotationsSuccess: PropTypes.func,\n  onRenderAnnotationLayerError: PropTypes.func,\n  onRenderAnnotationLayerSuccess: PropTypes.func,\n  page: isPage,\n  renderInteractiveForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\n\nvar AnnotationLayer = function AnnotationLayer(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (pageContext) {\n      return /*#__PURE__*/React.createElement(AnnotationLayerInternal, _extends({}, documentContext, pageContext, props));\n    });\n  });\n};\n\nexport default AnnotationLayer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport PageContext from '../PageContext';\nimport { errorOnDev, getPixelRatio, isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var PageCanvasInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageCanvasInternal, _PureComponent);\n\n  var _super = _createSuper(PageCanvasInternal);\n\n  function PageCanvasInternal() {\n    var _this;\n\n    _classCallCheck(this, PageCanvasInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      errorOnDev(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnCanvas\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          canvas = _assertThisInitialize.canvasLayer;\n\n      if (!canvas) {\n        return null;\n      }\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          renderViewport = _assertThisInitialize2.renderViewport,\n          viewport = _assertThisInitialize2.viewport;\n\n      var _this$props2 = _this.props,\n          page = _this$props2.page,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      canvas.width = renderViewport.width;\n      canvas.height = renderViewport.height;\n      canvas.style.width = \"\".concat(Math.floor(viewport.width), \"px\");\n      canvas.style.height = \"\".concat(Math.floor(viewport.height), \"px\");\n      var renderContext = {\n        get canvasContext() {\n          return canvas.getContext('2d');\n        },\n\n        viewport: renderViewport,\n        renderInteractiveForms: renderInteractiveForms\n      }; // If another render is in progress, let's cancel it\n\n      _this.cancelRenderingTask();\n\n      _this.renderer = page.render(renderContext);\n      return _this.renderer.promise.then(_this.onRenderSuccess)[\"catch\"](_this.onRenderError);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageCanvasInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawPageOnCanvas();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          renderInteractiveForms = _this$props3.renderInteractiveForms;\n\n      if (renderInteractiveForms !== prevProps.renderInteractiveForms) {\n        // Ensures the canvas will be re-rendered from scratch. Otherwise all form data will stay.\n        page.cleanup();\n        this.drawPageOnCanvas();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelRenderingTask();\n      /**\n       * Zeroing the width and height cause most browsers to release graphics\n       * resources immediately, which can greatly reduce memory consumption.\n       */\n\n      if (this.canvasLayer) {\n        this.canvasLayer.width = 0;\n        this.canvasLayer.height = 0;\n        this.canvasLayer = null;\n      }\n    }\n  }, {\n    key: \"cancelRenderingTask\",\n    value: function cancelRenderingTask() {\n      /* eslint-disable no-underscore-dangle */\n      if (this.renderer && this.renderer._internalRenderTask.running) {\n        this.renderer._internalRenderTask.cancel();\n      }\n      /* eslint-enable no-underscore-dangle */\n\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"react-pdf__Page__canvas\",\n        dir: \"ltr\",\n        ref: function ref(_ref) {\n          _this2.canvasLayer = _ref;\n        },\n        style: {\n          display: 'block',\n          userSelect: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"renderViewport\",\n    get: function get() {\n      var _this$props4 = this.props,\n          page = _this$props4.page,\n          rotate = _this$props4.rotate,\n          scale = _this$props4.scale;\n      var pixelRatio = getPixelRatio();\n      return page.getViewport({\n        scale: scale * pixelRatio,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props5 = this.props,\n          page = _this$props5.page,\n          rotate = _this$props5.rotate,\n          scale = _this$props5.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return PageCanvasInternal;\n}(PureComponent);\nPageCanvasInternal.propTypes = {\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  renderInteractiveForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\nexport default function PageCanvas(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageCanvasInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport pdfjs from 'pdfjs-dist/build/pdf';\nimport PageContext from '../PageContext';\nimport { errorOnDev, isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var PageSVGInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageSVGInternal, _PureComponent);\n\n  var _super = _createSuper(PageSVGInternal);\n\n  function PageSVGInternal() {\n    var _this;\n\n    _classCallCheck(this, PageSVGInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      svg: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      errorOnDev(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSVG\", function () {\n      var page = _this.props.page;\n      _this.renderer = page.getOperatorList();\n      return _this.renderer.then(function (operatorList) {\n        var svgGfx = new pdfjs.SVGGraphics(page.commonObjs, page.objs);\n        _this.renderer = svgGfx.getSVG(operatorList, _this.viewport).then(function (svg) {\n          _this.setState({\n            svg: svg\n          }, _this.onRenderSuccess);\n        })[\"catch\"](_this.onRenderError);\n      })[\"catch\"](_this.onRenderError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnContainer\", function (element) {\n      var svg = _this.state.svg;\n\n      if (!element || !svg) {\n        return;\n      } // Append SVG element to the main container, if this hasn't been done already\n\n\n      if (!element.firstElementChild) {\n        element.appendChild(svg);\n      }\n\n      var _this$viewport = _this.viewport,\n          width = _this$viewport.width,\n          height = _this$viewport.height;\n      svg.setAttribute('width', width);\n      svg.setAttribute('height', height);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageSVGInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderSVG();\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$viewport2 = this.viewport,\n          width = _this$viewport2.width,\n          height = _this$viewport2.height;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__svg\" // Note: This cannot be shortened, as we need this function to be called with each render.\n        ,\n        ref: function ref(_ref) {\n          return _this2.drawPageOnContainer(_ref);\n        },\n        style: {\n          display: 'block',\n          backgroundColor: 'white',\n          overflow: 'hidden',\n          width: width,\n          height: height,\n          userSelect: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return PageSVGInternal;\n}(PureComponent);\nPageSVGInternal.propTypes = {\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\nexport default function PageSVG(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageSVGInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport PageContext from '../PageContext';\nimport TextLayerItem from './TextLayerItem';\nimport { cancelRunningTask, errorOnDev } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerInternal);\n\n  function TextLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      textItems: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadTextItems\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var page, cancellable, _yield$cancellable$pr, textItems;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _this.props.page;\n              _context.prev = 1;\n              cancellable = makeCancellable(page.getTextContent());\n              _this.runningTask = cancellable;\n              _context.next = 6;\n              return cancellable.promise;\n\n            case 6:\n              _yield$cancellable$pr = _context.sent;\n              textItems = _yield$cancellable$pr.items;\n\n              _this.setState({\n                textItems: textItems\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetTextSuccess = _this.props.onGetTextSuccess;\n      var textItems = _this.state.textItems;\n      if (onGetTextSuccess) onGetTextSuccess(textItems);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        textItems: false\n      });\n\n      errorOnDev(error);\n      var onGetTextError = _this.props.onGetTextError;\n      if (onGetTextError) onGetTextError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n\n      if (!page) {\n        throw new Error('Attempted to load page text content, but no page was specified.');\n      }\n\n      this.loadTextItems();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var page = this.props.page;\n\n      if (prevProps.page && page !== prevProps.page) {\n        this.loadTextItems();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderTextItems\",\n    value: function renderTextItems() {\n      var textItems = this.state.textItems;\n\n      if (!textItems) {\n        return null;\n      }\n\n      return textItems.map(function (textItem, itemIndex) {\n        return /*#__PURE__*/React.createElement(TextLayerItem // eslint-disable-next-line react/no-array-index-key\n        , _extends({\n          key: itemIndex,\n          itemIndex: itemIndex\n        }, textItem));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var viewport = this.unrotatedViewport,\n          rotate = this.rotate;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__textContent\",\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          width: \"\".concat(viewport.width, \"px\"),\n          height: \"\".concat(viewport.height, \"px\"),\n          color: 'transparent',\n          transform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          WebkitTransform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          pointerEvents: 'none'\n        }\n      }, this.renderTextItems());\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props = this.props,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate;\n      return rotate - page.rotate;\n    }\n  }]);\n\n  return TextLayerInternal;\n}(PureComponent);\nTextLayerInternal.propTypes = {\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\nexport default function TextLayer(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport PageContext from '../PageContext';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerItemInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerItemInternal);\n\n  function TextLayerItemInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getElementWidth\", function (element) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          sideways = _assertThisInitialize.sideways;\n\n      return element.getBoundingClientRect()[sideways ? 'height' : 'width'];\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerItemInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"getFontData\",\n    value: function () {\n      var _getFontData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fontName) {\n        var page, font;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                page = this.props.page;\n                _context.next = 3;\n                return new Promise(function (resolve) {\n                  page.commonObjs.get(fontName, resolve);\n                });\n\n              case 3:\n                font = _context.sent;\n                return _context.abrupt(\"return\", font);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getFontData(_x) {\n        return _getFontData.apply(this, arguments);\n      }\n\n      return getFontData;\n    }()\n  }, {\n    key: \"alignTextItem\",\n    value: function () {\n      var _alignTextItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var element, _this$props, fontName, scale, width, fontData, fallbackFontName, targetWidth, actualWidth, transform, ascent;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                element = this.item;\n\n                if (element) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                element.style.transform = '';\n                _this$props = this.props, fontName = _this$props.fontName, scale = _this$props.scale, width = _this$props.width;\n                element.style.fontFamily = \"\".concat(fontName, \", sans-serif\");\n                _context2.next = 8;\n                return this.getFontData(fontName);\n\n              case 8:\n                fontData = _context2.sent;\n                fallbackFontName = fontData ? fontData.fallbackName : 'sans-serif';\n                element.style.fontFamily = \"\".concat(fontName, \", \").concat(fallbackFontName);\n                targetWidth = width * scale;\n                actualWidth = this.getElementWidth(element);\n                transform = \"scaleX(\".concat(targetWidth / actualWidth, \")\");\n                ascent = fontData ? fontData.ascent : 0;\n\n                if (ascent) {\n                  transform += \" translateY(\".concat((1 - ascent) * 100, \"%)\");\n                }\n\n                element.style.transform = transform;\n                element.style.WebkitTransform = transform;\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function alignTextItem() {\n        return _alignTextItem.apply(this, arguments);\n      }\n\n      return alignTextItem;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var fontSize = this.fontSize,\n          top = this.top,\n          left = this.left;\n      var _this$props2 = this.props,\n          customTextRenderer = _this$props2.customTextRenderer,\n          scale = _this$props2.scale,\n          text = _this$props2.str;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: function ref(_ref) {\n          _this2.item = _ref;\n        },\n        style: {\n          height: '1em',\n          fontFamily: 'sans-serif',\n          fontSize: \"\".concat(fontSize * scale, \"px\"),\n          position: 'absolute',\n          top: \"\".concat(top * scale, \"px\"),\n          left: \"\".concat(left * scale, \"px\"),\n          transformOrigin: 'left bottom',\n          whiteSpace: 'pre',\n          pointerEvents: 'all'\n        }\n      }, customTextRenderer ? customTextRenderer(this.props) : text);\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          scale = _this$props3.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props4 = this.props,\n          page = _this$props4.page,\n          rotate = _this$props4.rotate;\n      return rotate - page.rotate;\n    }\n  }, {\n    key: \"sideways\",\n    get: function get() {\n      var rotate = this.rotate;\n      return rotate % 180 !== 0;\n    }\n  }, {\n    key: \"defaultSideways\",\n    get: function get() {\n      var rotation = this.unrotatedViewport.rotation;\n      return rotation % 180 !== 0;\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      var transform = this.props.transform;\n      var defaultSideways = this.defaultSideways;\n\n      var _transform = _slicedToArray(transform, 2),\n          fontHeightPx = _transform[0],\n          fontWidthPx = _transform[1];\n\n      return defaultSideways ? fontWidthPx : fontHeightPx;\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform2 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n      offsetX = _transform2[2],\n          offsetY = _transform2[3],\n          x = _transform2[4],\n          y = _transform2[5];\n\n      var _viewport$viewBox = _slicedToArray(viewport.viewBox, 4),\n\n      /* xMin */\n      yMin = _viewport$viewBox[1],\n\n      /* xMax */\n      yMax = _viewport$viewBox[3];\n\n      return defaultSideways ? x + offsetX + yMin : yMax - (y + offsetY);\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform3 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n\n      /* offsetX */\n\n      /* offsetY */\n      x = _transform3[4],\n          y = _transform3[5];\n\n      var _viewport$viewBox2 = _slicedToArray(viewport.viewBox, 1),\n          xMin = _viewport$viewBox2[0];\n\n      return defaultSideways ? y - xMin : x - xMin;\n    }\n  }]);\n\n  return TextLayerItemInternal;\n}(PureComponent);\nTextLayerItemInternal.propTypes = {\n  customTextRenderer: PropTypes.func,\n  fontName: PropTypes.string.isRequired,\n  itemIndex: PropTypes.number.isRequired,\n  // eslint-disable-line react/no-unused-prop-types\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  str: PropTypes.string.isRequired,\n  transform: PropTypes.arrayOf(PropTypes.number).isRequired,\n  width: PropTypes.number.isRequired\n};\nexport default function TextLayerItem(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerItemInternal, _extends({}, context, props));\n  });\n}","import { createContext } from 'react';\nexport default createContext(null);","// As defined in https://github.com/mozilla/pdf.js/blob/master/src/shared/util.js#L378-L381\nvar PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nexport default PasswordResponses;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nvar Ref = /*#__PURE__*/function () {\n  function Ref(_ref) {\n    var num = _ref.num,\n        gen = _ref.gen;\n\n    _classCallCheck(this, Ref);\n\n    this.num = num;\n    this.gen = gen;\n  }\n\n  _createClass(Ref, [{\n    key: \"toString\",\n    value: function toString() {\n      var str = \"\".concat(this.num, \"R\");\n\n      if (this.gen !== 0) {\n        str += this.gen;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Ref;\n}();\n\nexport { Ref as default };","import pdfjs from 'pdfjs-dist/build/pdf';\nimport Document from './Document';\nimport Outline from './Outline';\nimport Page from './Page';\nimport { isLocalFileSystem, warnOnDev } from './shared/utils';\n\nif (isLocalFileSystem) {\n  warnOnDev('You are running React-PDF from your local file system. PDF.js Worker may fail to load due to browser\\'s security policies. If you\\'re on Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.');\n}\n\npdfjs.GlobalWorkerOptions.workerSrc = 'pdf.worker.js';\nexport { pdfjs, Document, Outline, Page };","import { EventBus } from 'pdfjs-dist/lib/web/ui_utils';\nexport default new EventBus();","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport PropTypes from 'prop-types';\nimport { mouseEvents, touchEvents, keyboardEvents } from 'make-event-props';\nimport { isDefined } from './utils';\nimport LinkService from '../LinkService';\nexport var eventProps = function () {\n  var result = {};\n  [].concat(_toConsumableArray(mouseEvents), _toConsumableArray(touchEvents), _toConsumableArray(keyboardEvents)).forEach(function (eventName) {\n    result[eventName] = PropTypes.func;\n  });\n  return result;\n}();\nvar fileTypes = [PropTypes.string, PropTypes.instanceOf(ArrayBuffer), PropTypes.shape({\n  data: PropTypes.object,\n  httpHeaders: PropTypes.object,\n  range: PropTypes.object,\n  url: PropTypes.string,\n  withCredentials: PropTypes.bool\n})];\n\nif (typeof File !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(File));\n}\n\nif (typeof Blob !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(Blob));\n}\n\nexport var isClassName = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]);\nexport var isFile = PropTypes.oneOfType(fileTypes);\nexport var isLinkService = PropTypes.instanceOf(LinkService);\nexport var isLinkTarget = PropTypes.oneOf(['_self', '_blank', '_parent', '_top']);\nexport var isPage = PropTypes.shape({\n  _transport: PropTypes.shape({\n    fontLoader: PropTypes.object.isRequired\n  }).isRequired,\n  commonObjs: PropTypes.shape({\n    _objs: PropTypes.object.isRequired\n  }).isRequired,\n  getAnnotations: PropTypes.func.isRequired,\n  getTextContent: PropTypes.func.isRequired,\n  getViewport: PropTypes.func.isRequired,\n  render: PropTypes.func.isRequired\n});\nexport var isPageIndex = function isPageIndex(props, propName, componentName) {\n  var pageIndex = props[propName],\n      pageNumber = props.pageNumber,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageIndex)) {\n    if (typeof pageIndex !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageIndex), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageIndex < 0) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 0.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageIndex + 1 > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages - 1, \".\"));\n    }\n  } else if (!isDefined(pageNumber)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPageNumber = function isPageNumber(props, propName, componentName) {\n  var pageNumber = props[propName],\n      pageIndex = props.pageIndex,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageNumber)) {\n    if (typeof pageNumber !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageNumber), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageNumber < 1) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 1.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageNumber > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages, \".\"));\n    }\n  } else if (!isDefined(pageIndex)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPdf = PropTypes.oneOfType([PropTypes.shape({\n  getDestination: PropTypes.func.isRequired,\n  getOutline: PropTypes.func.isRequired,\n  getPage: PropTypes.func.isRequired,\n  numPages: PropTypes.number.isRequired\n}), PropTypes.bool]);\nexport var isRenderMode = PropTypes.oneOf(['canvas', 'none', 'svg']);\nexport var isRotate = PropTypes.oneOf([0, 90, 180, 270]);","/**\n * Checks if we're running in a browser environment.\n */\nexport var isBrowser = typeof window !== 'undefined';\n/**\n * Checks whether we're running from a local file system.\n */\n\nexport var isLocalFileSystem = isBrowser && window.location.protocol === 'file:';\n/**\n * Checks whether we're running on a production build or not.\n */\n\nexport var isProduction = process.env.NODE_ENV === 'production';\n/**\n * Checks whether a variable is defined.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isDefined = function isDefined(variable) {\n  return typeof variable !== 'undefined';\n};\n/**\n * Checks whether a variable is defined and not null.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isProvided = function isProvided(variable) {\n  return isDefined(variable) && variable !== null;\n};\n/**\n * Checkes whether a variable provided is a string.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isString = function isString(variable) {\n  return typeof variable === 'string';\n};\n/**\n * Checks whether a variable provided is an ArrayBuffer.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isArrayBuffer = function isArrayBuffer(variable) {\n  return variable instanceof ArrayBuffer;\n};\n/**\n * Checkes whether a variable provided is a Blob.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isBlob = function isBlob(variable) {\n  if (!isBrowser) {\n    throw new Error('Attempted to check if a variable is a Blob on a non-browser environment.');\n  }\n\n  return variable instanceof Blob;\n};\n/**\n * Checkes whether a variable provided is a File.\n *\n * @param {*} variable Variable to check\n */\n\nexport var isFile = function isFile(variable) {\n  if (!isBrowser) {\n    throw new Error('Attempted to check if a variable is a File on a non-browser environment.');\n  }\n\n  return variable instanceof File;\n};\n/**\n * Checks whether a string provided is a data URI.\n *\n * @param {String} str String to check\n */\n\nexport var isDataURI = function isDataURI(str) {\n  return isString(str) && /^data:/.test(str);\n};\nexport var dataURItoUint8Array = function dataURItoUint8Array(dataURI) {\n  if (!isDataURI(dataURI)) {\n    throw new Error('dataURItoUint8Array was provided with an argument which is not a valid data URI.');\n  }\n\n  var byteString;\n\n  if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n\n  var ia = new Uint8Array(byteString.length);\n\n  for (var i = 0; i < byteString.length; i += 1) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n\n  return ia;\n};\nexport var getPixelRatio = function getPixelRatio() {\n  return isBrowser && window.devicePixelRatio || 1;\n};\n\nvar consoleOnDev = function consoleOnDev(method) {\n  if (!isProduction) {\n    var _console;\n\n    for (var _len = arguments.length, message = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      message[_key - 1] = arguments[_key];\n    }\n\n    // eslint-disable-next-line no-console\n    (_console = console)[method].apply(_console, message);\n  }\n};\n\nexport var warnOnDev = function warnOnDev() {\n  for (var _len2 = arguments.length, message = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    message[_key2] = arguments[_key2];\n  }\n\n  return consoleOnDev.apply(void 0, ['warn'].concat(message));\n};\nexport var errorOnDev = function errorOnDev() {\n  for (var _len3 = arguments.length, message = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    message[_key3] = arguments[_key3];\n  }\n\n  return consoleOnDev.apply(void 0, ['error'].concat(message));\n};\nexport var displayCORSWarning = function displayCORSWarning() {\n  if (isLocalFileSystem) {\n    warnOnDev('Loading PDF as base64 strings/URLs might not work on protocols other than HTTP/HTTPS. On Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.');\n  }\n};\nexport var cancelRunningTask = function cancelRunningTask(runningTask) {\n  if (runningTask && runningTask.cancel) runningTask.cancel();\n};\nexport var makePageCallback = function makePageCallback(page, scale) {\n  Object.defineProperty(page, 'width', {\n    get: function get() {\n      return this.view[2] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'height', {\n    get: function get() {\n      return this.view[3] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalWidth', {\n    get: function get() {\n      return this.view[2];\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalHeight', {\n    get: function get() {\n      return this.view[3];\n    },\n    configurable: true\n  });\n  return page;\n};\nexport var isCancelException = function isCancelException(error) {\n  return error.name === 'RenderingCancelledException';\n};\nexport var loadFromFile = function loadFromFile(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.onerror = function (event) {\n      switch (event.target.error.code) {\n        case event.target.error.NOT_FOUND_ERR:\n          return reject(new Error('Error while reading a file: File not found.'));\n\n        case event.target.error.NOT_READABLE_ERR:\n          return reject(new Error('Error while reading a file: File not readable.'));\n\n        case event.target.error.SECURITY_ERR:\n          return reject(new Error('Error while reading a file: Security error.'));\n\n        case event.target.error.ABORT_ERR:\n          return reject(new Error('Error while reading a file: Aborted.'));\n\n        default:\n          return reject(new Error('Error while reading a file.'));\n      }\n    };\n\n    reader.readAsArrayBuffer(file);\n    return null;\n  });\n};","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","const Noodl = require('@noodl/noodl-sdk');\nimport Document from './noodl-pdf';\n\n\nNoodl.defineModule({\n    reactNodes: [\n    \tDocument\n    ],\n    nodes:[\n    ],\n    setup() {\n\t\tconsole.log('PDF viewer setup');\n\t}\n});\n\n","import React, { useState } from 'react';\nconst Noodl = require('@noodl/noodl-sdk');\nimport 'regenerator-runtime/runtime'\nimport { Document, Page, Outline, View } from 'react-pdf';\nimport SelectionHighlighter from 'react-highlight-selection';\n\nimport { pdfjs } from 'react-pdf';\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\nimport \"./styles.css\";\n\n\nfunction Wrapper (props){\n\tconst [numPages, setNumPages] = useState(null);\n\n\tfunction onDocumentLoadSuccess({ numPages }) {\n\t  setNumPages(numPages);\n\t}\n\n\tfunction copyTextToClipboard(text) {\n\t\tif (!navigator.clipboard) {\n\t\t  fallbackCopyTextToClipboard(text);\n\t\t  return;\n\t\t}\n\t\tnavigator.clipboard.writeText(text).then(function() {\n\t\t  console.log('Async: Copying to clipboard was successful!');\n\t\t}, function(err) {\n\t\t  console.error('Async: Could not copy text: ', err);\n\t\t});\n\t  }\n\n\tfunction selectionHandler(selection) {\n\t\tcopyTextToClipboard(selection.selection);\n\t  }\n\n\t  \n\tfunction makeTextRenderer() {\n\t\treturn function textRenderer(textItem) {\n\t\t\t//console.log(textItem.str);\n\t\t\tconst text = textItem.str;\n\t\t\treturn (\n\t\t\t\t<SelectionHighlighter\n\t\t\t\t  text={text}\n\t\t\t\t  selectionHandler={selectionHandler}\n\t\t\t\t  customClass=\"custom-class\"\n\t\t\t\t/>\n\t\t\t  );\n\t\t}\n\t  }\n\n\treturn <div>\n\n\t<Document\n      file={props.file} width={props.width} height={props.height}\n\t  onLoadSuccess={onDocumentLoadSuccess}\n    >\n\t\t\n      {Array.from(\n        new Array(numPages),\n        (el, index) => (\n          <Page \n\t\t  \tscale={props.scale}\n\t\t  \twidth={props.width}\n            key={`page_${index + 1}`}\n\t\t\tpageNumber={index + 1}\n\t\t\tcustomTextRenderer={makeTextRenderer() } \n\t\t\trenderTextLayer={true}\n\t\t\t\n          />\n        ),\n      )}\n    </Document>\n\t\t\t\n    </div>\n  \n}\n\nexport default {\n\tname: 'PDF viewer',\n\tcategory: 'Visual',\n\tgetReactComponent() {\n\t\treturn Wrapper;\n\t},\n\tinputProps: {\n        file: {type:'string'},\n\t\tpageNumber: {type:'number'},\n\t\twidth: {type: 'number'},\n\t\tscale: {type: 'number'}\n\t\t\n\t},\n\toutputProps: {\n\t\t\t\n\t}\n};\n\n\n\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","module.exports = React;"],"sourceRoot":""}